"use strict";(self.webpackChunkclimsoft_app=self.webpackChunkclimsoft_app||[]).push([[737],{5008:(P,h,c)=>{c.r(h),c.d(h,{PaperArchiveModule:()=>M});var o=c(4333),U=c(2350),n=c(2997),v=c(2719),f=c(2720),e=c(3668),A=c(4437),Z=c(1109),d=c(2606),C=c(8063),a=c(6019),r=c(5261);function l(i,m){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n            "),e.TgZ(2,"th",13),e._uU(3),e.qZA(),e._uU(4,"\n            "),e.TgZ(5,"td",10),e._uU(6),e.ALo(7,"date"),e.qZA(),e._uU(8,"\n            "),e.TgZ(9,"td",10),e._uU(10),e.qZA(),e._uU(11,"\n            "),e.TgZ(12,"td"),e._uU(13,"\n              "),e.TgZ(14,"button",14),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).view(p)}),e._uU(15,"\n                "),e.O4$(),e._UZ(16,"svg",15),e._uU(17,"\n              "),e.qZA(),e._uU(18,"\n              "),e.kcU(),e.TgZ(19,"button",16),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).update(p)}),e._uU(20,"\n                "),e.O4$(),e._UZ(21,"svg",17),e._uU(22,"\n              "),e.qZA(),e._uU(23,"\n              "),e.kcU(),e.TgZ(24,"button",18),e.NdJ("click",function(){const p=e.CHM(t).$implicit;return e.oxw(2).remove(p)}),e._uU(25,"\n                "),e.O4$(),e._UZ(26,"svg",19),e._uU(27,"\n              "),e.qZA(),e._uU(28,"\n            "),e.qZA(),e._uU(29,"\n          "),e.qZA()}if(2&i){const t=m.$implicit;e.xp6(3),e.Oqu(t.belongs_to),e.xp6(3),e.Oqu(e.xi3(7,3,t.form_datetime,"dd MMM YYYY hh:mm a")),e.xp6(4),e.Oqu(t.classified_into)}}function s(i,m){1&i&&(e.TgZ(0,"c-alert",20),e.TgZ(1,"strong"),e._uU(2,"Info"),e.qZA(),e._uU(3," No paper archive records available to show. "),e.qZA())}function _(i,m){if(1&i){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"c-card-body"),e._uU(1,"\n        "),e.TgZ(2,"app-paginator",8),e.NdJ("onPage",function(g){return e.CHM(t),e.oxw().onPage(g)}),e.qZA(),e._uU(3,"\n        "),e.TgZ(4,"table",9),e._uU(5,"\n          "),e.TgZ(6,"thead"),e._uU(7,"\n          "),e.TgZ(8,"tr"),e._uU(9,"\n            "),e.TgZ(10,"th",10),e._uU(11,"Station"),e.qZA(),e._uU(12,"\n            "),e.TgZ(13,"th",10),e._uU(14,"Form Date/Time"),e.qZA(),e._uU(15,"\n            "),e.TgZ(16,"th",10),e._uU(17,"Classified Into"),e.qZA(),e._uU(18,"\n            "),e._UZ(19,"th"),e._uU(20,"\n          "),e.qZA(),e._uU(21,"\n          "),e.qZA(),e._uU(22,"\n          "),e.TgZ(23,"tbody"),e._uU(24,"\n          "),e.YNc(25,l,30,6,"tr",11),e._uU(26,"\n          "),e.qZA(),e._uU(27,"\n        "),e.qZA(),e._uU(28,"\n        "),e.YNc(29,s,4,0,"c-alert",12),e._uU(30,"\n      "),e.qZA()}if(2&i){const t=m.$implicit,u=e.oxw();e.xp6(2),e.Q6J("limit",t.limit)("current",t.page)("pages",u.createPages(t.pages)),e.xp6(23),e.Q6J("ngForOf",t.archives),e.xp6(4),e.Q6J("ngIf",!t.archives.length)}}let b=(()=>{class i{constructor(t,u){this.modalService=t,this.paperArchService=u,this.state$=(0,n.of)({archives:[],limit:1,page:1,pages:1})}ngOnInit(){this.state$=this.paperArchService.archives}onPage(t){console.log(t),this.paperArchService.updateState(t)}createPages(t){return[...Array(t).keys()].map(u=>u+1)}add(){this.modalService.show(f.i,{initialState:{archive:void 0},class:"modal-sm",backdrop:"static",keyboard:!1}).content.onClose.subscribe(g=>{g&&this.paperArchService.addArchive(g).subscribe()})}view(t){this.modalService.show(U.N,{initialState:{archive:t},class:"modal-xl"}).content.onClose.subscribe(p=>{p.action&&"UPDATE_ARCHIVE"===p.action&&console.log("Update Archive to be implemented here")})}update(t){this.modalService.show(f.i,{initialState:{archive:t},class:"modal-sm",backdrop:"static",keyboard:!1}).content.onClose.subscribe(p=>{p&&this.paperArchService.addArchive(p).subscribe()})}remove(t){this.modalService.show(v.S,{initialState:{title:"Feature Removal",message:"Operation cannot be undone. Are you sure you want to remove the physical feature and its associated data?",confirm:"Go Ahead",cancel:"Cancel"}}).content.onClose.subscribe(p=>{p&&t&&this.paperArchService.removeArchive(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.tT),e.Y36(Z.f))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-paper-archives"]],decls:31,vars:3,consts:[["xs","12","lg","12","xl","12"],[1,"mb-4"],["xs","6"],[1,"col-6"],["xs","6",1,"text-end"],[1,"btn","btn-sm","cs-btn-sm","btn-outline",3,"click"],["cIcon","","name","cilPlus"],[4,"ngIf"],[3,"limit","current","pages","onPage"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["color","primary",4,"ngIf"],["scope","row"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","View Archive",3,"click"],["cIcon","","name","cilArrowThickFromLeft","size","sm"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","Update Archive",3,"click"],["cIcon","","name","cilPencil","size","sm"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","Remove Archive",3,"click"],["cIcon","","name","cilTrash","size","sm",1,"text-danger"],["color","primary"]],template:function(t,u){1&t&&(e.TgZ(0,"c-row"),e._uU(1,"\n  "),e.TgZ(2,"c-col",0),e._uU(3,"\n    "),e.TgZ(4,"c-card",1),e._uU(5,"\n      "),e.TgZ(6,"c-card-header"),e._uU(7,"\n        "),e.TgZ(8,"c-row"),e._uU(9,"\n          "),e.TgZ(10,"c-col",2),e._uU(11,"\n            "),e.TgZ(12,"strong",3),e._uU(13,"Physical Features"),e.qZA(),e._uU(14,"\n          "),e.qZA(),e._uU(15,"\n          "),e.TgZ(16,"c-col",4),e._uU(17,"\n            "),e.TgZ(18,"a",5),e.NdJ("click",function(){return u.add()}),e._uU(19," "),e.O4$(),e._UZ(20,"svg",6),e._uU(21," Add New "),e.qZA(),e._uU(22,"\n          "),e.qZA(),e._uU(23,"\n        "),e.qZA(),e._uU(24,"\n      "),e.qZA(),e._uU(25,"\n      "),e.YNc(26,_,31,5,"c-card-body",7),e.ALo(27,"async"),e._uU(28,"\n    "),e.qZA(),e._uU(29,"\n  "),e.qZA(),e._uU(30,"\n"),e.qZA()),2&t&&(e.xp6(26),e.Q6J("ngIf",e.lcZ(27,1,u.state$)))},directives:[d.iok,d.Yp0,d.AkF,d.nkx,C.ar,a.O5,d.yue,r.J,d.auY,a.sg,d.Hq3,d.i9q,d.wxo],pipes:[a.Ov,a.uU],styles:[""]}),i})();var T=c(1850);const O=[{path:"",component:b,data:{title:"Paper Archives"}}];let D=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(O)],T.Bz]}),i})(),M=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[a.ez,o.m,D]]}),i})()},2409:(P,h,c)=>{c.d(h,{o:()=>a});var o=c(3668),U=c(2070),v=c(6019),f=c(2606),e=c(8063),A=c(4859);function Z(r,l){if(1&r&&(o.TgZ(0,"div",6),o.O4$(),o._UZ(1,"svg",7),o._uU(2),o.qZA()),2&r){const s=o.oxw();o.xp6(2),o.hij(" ",s.error,". ")}}const d=function(r){return{invalid:r}},C=function(r){return{"is-invalid":r}};let a=(()=>{class r{constructor(){this.submitted=!1,this.onChange=new o.vpe,this.focused=!1,this.invalid=!1,this.bsConfig={isAnimated:!0,withTimepicker:!0,dateInputFormat:"DD/MM/YYYY HH:mm"}}ngOnInit(){this.current=this.current?new Date(this.current):new Date,this.bsValue=new Date(this.current);const s=U(this.current);this.invalid=!this.current||!s.isValid()}onDateChanged(s){s&&(this.bsValue.setFullYear(s.getFullYear(),s.getMonth(),s.getDate()),this.onChange.emit(this.bsValue))}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-data-time"]],inputs:{submitted:"submitted",current:"current",error:"error",minDate:"minDate"},outputs:{onChange:"onChange"},decls:6,vars:10,consts:[[1,"mx-0","px-0","align-items-center",3,"ngClass"],[1,"mb-3"],["cInputGroupText","","id","basic-addon1"],["cIcon","","name","cilCalendar"],["type","text","placeholder","Select Date","cFormControl","","bsDatepicker","",3,"bsValue","ngClass","bsConfig","minDate","bsValueChange"],["sm","12","class","invalid-feedback",4,"ngIf"],["sm","12",1,"invalid-feedback"],["cIcon","","name","cilXCircle"]],template:function(s,_){1&s&&(o.TgZ(0,"div",0),o.TgZ(1,"c-input-group",1),o.TgZ(2,"span",2),o.O4$(),o._UZ(3,"svg",3),o.qZA(),o.kcU(),o.TgZ(4,"input",4),o.NdJ("bsValueChange",function(T){return _.onDateChanged(T)}),o.qZA(),o.YNc(5,Z,3,1,"div",5),o.qZA(),o.qZA()),2&s&&(o.Q6J("ngClass",o.VKq(6,d,_.submitted&&_.invalid)),o.xp6(4),o.Q6J("bsValue",_.bsValue)("ngClass",o.VKq(8,C,_.submitted&&_.invalid))("bsConfig",_.bsConfig)("minDate",_.minDate),o.xp6(1),o.Q6J("ngIf",_.submitted&&_.invalid))},directives:[v.mk,f.g8K,f.jOm,e.ar,f.oHf,A.Y5,A.Np,v.O5],styles:[".row[_ngcontent-%COMP%]{border:1px solid #d8dfe3;border-radius:.2rem;padding:.2rem .3rem!important;background-color:#e8f1f6}.row.invalid[_ngcontent-%COMP%]{border-color:#eac6c1;background-color:#ffe2de}"]}),r})()},1769:(P,h,c)=>{c.d(h,{t:()=>C});var o=c(2070),n=c(3668),v=c(2606),f=c(6019);function e(a,r){if(1&a&&(n.TgZ(0,"span"),n._uU(1),n.ALo(2,"date"),n.qZA()),2&a){const l=n.oxw(2);n.xp6(1),n.Oqu(n.lcZ(2,1,l.config.value))}}function A(a,r){if(1&a&&(n.TgZ(0,"div",6),n.YNc(1,e,3,3,"span",7),n.qZA()),2&a){const l=n.oxw(),s=n.MAs(9);n.xp6(1),n.Q6J("ngIf",l.isDate(l.config.value))("ngIfElse",s)}}function Z(a,r){if(1&a&&(n.TgZ(0,"div",6),n._uU(1),n.qZA()),2&a){const l=n.oxw();n.xp6(1),n.Oqu(l.config.value)}}function d(a,r){1&a&&(n.TgZ(0,"div",8),n._uU(1,"Invalid Date"),n.qZA())}let C=(()=>{class a{constructor(){}ngOnInit(){}isDate(l){return o(l).isValid()}}return a.\u0275fac=function(l){return new(l||a)},a.\u0275cmp=n.Xpm({type:a,selectors:[["app-info-block"]],inputs:{config:"config"},decls:10,vars:3,consts:[["xs","12",1,"p-1"],[1,"wrap"],[1,"col-12","key"],["class","col-12 value",4,"ngIf","ngIfElse"],["block",""],["invalidDate",""],[1,"col-12","value"],[4,"ngIf","ngIfElse"],[1,"col-12","value","text-danger"]],template:function(l,s){if(1&l&&(n.TgZ(0,"c-col",0),n.TgZ(1,"div",1),n.TgZ(2,"c-row"),n.TgZ(3,"div",2),n._uU(4),n.qZA(),n.YNc(5,A,2,2,"div",3),n.qZA(),n.qZA(),n.qZA(),n.YNc(6,Z,2,1,"ng-template",null,4,n.W1O),n.YNc(8,d,2,0,"ng-template",null,5,n.W1O)),2&l){const _=n.MAs(7);n.xp6(4),n.Oqu(s.config.key),n.xp6(1),n.Q6J("ngIf","date"===s.config.type)("ngIfElse",_)}},directives:[v.Yp0,v.iok,f.O5],pipes:[f.uU],styles:[".wrap[_ngcontent-%COMP%]{padding:.3rem .5rem;background-color:#f7f7f7;border:1px solid #e1e1e1;border-radius:.2rem}.wrap[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:.7rem}.wrap[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem}"]}),a})()}}]);