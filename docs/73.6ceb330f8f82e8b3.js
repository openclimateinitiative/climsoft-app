"use strict";(self.webpackChunkclimsoft_app=self.webpackChunkclimsoft_app||[]).push([[73],{7777:(I,T,c)=>{c.d(T,{C:()=>m});var n=c(3668);let m=(()=>{class l{constructor(){this.unSaved=!0}canDeactivate(g){return!g.canExit||g.canExit()}}return l.\u0275fac=function(g){return new(g||l)},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},3947:(I,T,c)=>{c.r(T),c.d(T,{ElementModule:()=>ue});var n=c(6019),m=c(1850),l=c(7777),U=c(9468),g=c(3067),f=c(461),C=c(4753),e=c(3668),v=c(4437),a=c(74),i=c(2606),_=c(8063),u=c(4379),d=c(1769);function A(o,s){1&o&&e._UZ(0,"app-infinite-loading")}function x(o,s){if(1&o&&(e.TgZ(0,"c-col",10),e._uU(1,"\n            "),e._UZ(2,"app-info-block",11),e._uU(3,"\n          "),e.qZA()),2&o){const t=s.$implicit;e.xp6(2),e.Q6J("config",t)}}const E=function(){return["update"]};let Z=(()=>{class o{constructor(t,r,h,q){this.router=t,this.route=r,this.modalService=h,this.elementService=q,this.loading=!0,this.blocks=[]}ngOnInit(){this.route.params.pipe((0,g.w)(t=>(this.id=t.id,this.elementService.getElement(t.id)))).pipe((0,f.h)(t=>t.result&&t.result[0]),(0,U.q)(1),(0,C.U)(t=>t.result[0])).subscribe(t=>{console.log(t),this.element=t,this.blocks=this.elementService.adapt(t),console.log(this.blocks),this.loading=!1})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(v.tT),e.Y36(a.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-element"]],decls:40,vars:5,consts:[["xs","12"],[1,"mb-4"],[4,"ngIf"],["xs","10"],["src","./assets/img/icons/station_icon.png","width","40","alt",""],["xs","2",1,"text-end"],["cButton","","size","sm","color","warning","shape","rounded-pill","cTooltip","Add Element",3,"routerLink"],["cIcon","","name","cilPencil","size","sm"],[1,"mt-3"],["xs","12","sm","6","lg","4","xl","3",4,"ngFor","ngForOf"],["xs","12","sm","6","lg","4","xl","3"],[3,"config"]],template:function(t,r){1&t&&(e.TgZ(0,"c-row"),e._uU(1,"\n  "),e.TgZ(2,"c-col",0),e._uU(3,"\n    "),e.TgZ(4,"c-card",1),e._uU(5,"\n      "),e.TgZ(6,"c-card-body"),e._uU(7,"\n        "),e.TgZ(8,"c-row"),e._uU(9,"\n          "),e.TgZ(10,"c-col",0),e._uU(11,"\n            "),e.YNc(12,A,1,0,"app-infinite-loading",2),e._uU(13,"\n          "),e.qZA(),e._uU(14,"\n          "),e.TgZ(15,"c-col",3),e._uU(16,"\n            "),e.TgZ(17,"h4"),e._uU(18," "),e._UZ(19,"img",4),e._uU(20),e.qZA(),e._uU(21,"\n          "),e.qZA(),e._uU(22,"\n          "),e.TgZ(23,"c-col",5),e._uU(24,"\n            "),e.TgZ(25,"a",6),e._uU(26,"\n              "),e.O4$(),e._UZ(27,"svg",7),e._uU(28,"\n          "),e.qZA(),e._uU(29,"\n          "),e.qZA(),e._uU(30,"\n        "),e.qZA(),e._uU(31,"\n        "),e.kcU(),e.TgZ(32,"c-row",8),e._uU(33,"\n          "),e.YNc(34,x,4,1,"c-col",9),e._uU(35,"\n        "),e.qZA(),e._uU(36,"\n      "),e.qZA(),e._uU(37,"\n    "),e.qZA(),e._uU(38,"\n  "),e.qZA(),e._uU(39,"\n"),e.qZA()),2&t&&(e.xp6(12),e.Q6J("ngIf",r.loading),e.xp6(8),e.Oqu(null==r.element?null:r.element.element_name),e.xp6(5),e.Q6J("routerLink",e.DdM(4,E)),e.xp6(9),e.Q6J("ngForOf",r.blocks))},directives:[i.iok,i.Yp0,i.AkF,i.yue,n.O5,m.yS,i.Hq3,i.i9q,_.ar,n.sg,u.$,d.t],styles:[""]}),o})();var y=c(7384),p=c(9133);function w(o,s){1&o&&(e.TgZ(0,"c-alert",34),e.TgZ(1,"strong"),e._uU(2,"Error(s)!"),e.qZA(),e._uU(3," Please correct the following erros before you proceed."),e.qZA())}function P(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Element name is required."),e.qZA())}function F(o,s){if(1&o&&(e.TgZ(0,"div",35),e._uU(1,"\n                  "),e.YNc(2,P,4,0,"div",36),e._uU(3,"\n                "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.element_name.errors.required)}}function k(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Abbreviation is required."),e.qZA())}function N(o,s){if(1&o&&(e.TgZ(0,"div",38),e._uU(1,"\n                    "),e.YNc(2,k,4,0,"div",36),e._uU(3,"\n                  "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.abbreviation.errors.required)}}function J(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Element type is required."),e.qZA())}function M(o,s){if(1&o&&(e.TgZ(0,"div",38),e._uU(1,"\n                    "),e.YNc(2,J,4,0,"div",36),e._uU(3,"\n                  "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.element_type.errors.required)}}function L(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Latitude is required."),e.qZA())}function $(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Latitude must be a number."),e.qZA())}function Q(o,s){if(1&o&&(e.TgZ(0,"div",35),e._uU(1,"\n                  "),e.YNc(2,L,4,0,"div",36),e._uU(3,"\n                  "),e.YNc(4,$,4,0,"div",36),e._uU(5,"\n                "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.lower_limit.errors.required),e.xp6(2),e.Q6J("ngIf",t.f.lower_limit.errors.pattern)}}function D(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Elevation is required."),e.qZA())}function Y(o,s){if(1&o&&(e.TgZ(0,"div",38),e._uU(1,"\n                    "),e.YNc(2,D,4,0,"div",36),e._uU(3,"\n                  "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.upper_limit.errors.required)}}function S(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," WMO Id is required."),e.qZA())}function B(o,s){if(1&o&&(e.TgZ(0,"div",35),e._uU(1,"\n                  "),e.YNc(2,S,4,0,"div",36),e._uU(3,"\n                "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.units.errors.required)}}function R(o,s){1&o&&(e.TgZ(0,"div"),e._uU(1," "),e.O4$(),e._UZ(2,"svg",37),e._uU(3," Icao id is required."),e.qZA())}function K(o,s){if(1&o&&(e.TgZ(0,"div",38),e._uU(1,"\n                    "),e.YNc(2,R,4,0,"div",36),e._uU(3,"\n                  "),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.f.element_scale.errors.required)}}function z(o,s){1&o&&e._UZ(0,"c-spinner",39)}const b=function(o){return{"is-invalid":o}},W=function(o){return{"mt-3":o}};let O=(()=>{class o{constructor(t,r,h){this.router=t,this.route=r,this.elementService=h,this.form=new p.cw({element_name:new p.NI("",p.kI.required),abbreviation:new p.NI(""),element_type:new p.NI(""),description:new p.NI(""),lower_limit:new p.NI(""),upper_limit:new p.NI(""),units:new p.NI(""),element_scale:new p.NI(""),qc_total_required:new p.NI(!1),selected:new p.NI(!1)}),this.submitted=!1,this.loading=!1,this.error=!1,this.isUpdate=!1}canExit(){return console.log(this.form.dirty),!this.form.dirty||window.confirm("You have unsaved changes. Are you sure you want to leave the page?")}ngOnInit(){this.route.params.pipe((0,y.b)(t=>{this.loading=t.id}),(0,f.h)(t=>t.id),(0,g.w)(t=>(this.id=t.id,this.isUpdate=!0,this.elementService.getElement(t.id)))).pipe((0,f.h)(t=>t.result&&t.result.length)).subscribe(t=>{console.log(t),this.form.patchValue(t.result[0]),this.loading=!1})}get f(){return this.form.controls}onSubmit(t){this.submitted=!0,!this.form.invalid&&(this.isUpdate?this.elementService.updateElement(this.id,this.form.value):this.elementService.addElement(this.form.value)).subscribe(r=>{this.form.reset(),this.router.navigateByUrl("/elements")})}onReset(){}onCancel(){this.router.navigateByUrl("/stations")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(a.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-element-form"]],decls:188,vars:35,consts:[["xs","12"],[1,"mb-4"],["color","danger",4,"ngIf"],["cForm","","novalidate","",3,"formGroup","ngSubmit"],["xs","12","md","5","lg","4","xl","3"],[1,"mb-3"],["cLabel","","for","el-name"],["id","el-name","formControlName","element_name","aria-label","default input","cFormControl","","placeholder","Element Name",3,"ngClass"],["col","12","class","invalid-feedback",4,"ngIf"],["cLabel","","for","el-abbr"],["id","el-abbr","formControlName","abbreviation","aria-label","default input","cFormControl","","placeholder","Abbreviation",3,"ngClass"],["col","12","class","invalid-feedback pl-1",4,"ngIf"],["cLabel","","for","el-type"],["id","el-type","formControlName","element_type","aria-label","default input","cFormControl","","placeholder","Element Type",3,"ngClass"],["xs","12","md","6"],["cLabel","","for","el-desc"],["formControlName","description","aria-label","default input","cFormControl","","id","el-desc","rows","5"],["xs","12","md","4","lg","3","xl","2"],["cLabel","","for","el-lower-limit"],["id","el-lower-limit","formControlName","lower_limit","aria-label","default input","cFormControl","","placeholder","Lower Limit",3,"ngClass"],["cLabel","","for","el-upper-limit"],["id","el-upper-limit","formControlName","upper_limit","aria-label","default input","cFormControl","","placeholder","Upper Limit",3,"ngClass"],["cLabel","","for","el-units"],["id","el-units","formControlName","units","aria-label","default input","cFormControl","","placeholder","Units",3,"ngClass"],["cLabel","","for","el-scale"],["id","el-scale","formControlName","element_scale","aria-label","default input","cFormControl","","placeholder","Element Scale",3,"ngClass"],["sizing","lg","switch",""],["cFormCheckInput","","type","checkbox","formControlName","qc_total_required"],["cFormCheckLabel",""],["cFormCheckInput","","type","checkbox","formControlName","selected"],[3,"ngClass"],["type","submit","cButton","","color","dark",1,"px-4"],["aria-hidden","true","size","sm",4,"ngIf"],["type","button","cButton","","color","dark",1,"px-4",3,"click"],["color","danger"],["col","12",1,"invalid-feedback"],[4,"ngIf"],["cIcon","","name","cilXCircle"],["col","12",1,"invalid-feedback","pl-1"],["aria-hidden","true","size","sm"]],template:function(t,r){1&t&&(e.TgZ(0,"c-row"),e._uU(1,"\n  "),e.TgZ(2,"c-col",0),e._uU(3,"\n    "),e.TgZ(4,"c-card",1),e._uU(5,"\n      "),e.TgZ(6,"c-card-header"),e._uU(7,"\n        "),e.TgZ(8,"strong"),e._uU(9),e.qZA(),e._uU(10,"\n      "),e.qZA(),e._uU(11,"\n      "),e.TgZ(12,"c-card-body"),e._uU(13,"\n        "),e.YNc(14,w,4,0,"c-alert",2),e._uU(15,"\n        "),e.TgZ(16,"form",3),e.NdJ("ngSubmit",function(q){return r.onSubmit(q)}),e._uU(17,"\n          "),e.TgZ(18,"c-row"),e._uU(19,"\n            "),e.TgZ(20,"c-col",4),e._uU(21,"\n              "),e.TgZ(22,"div",5),e._uU(23,"\n                "),e.TgZ(24,"label",6),e._uU(25,"Element Name"),e.qZA(),e._uU(26,"\n                "),e._UZ(27,"input",7),e._uU(28,"\n                "),e.YNc(29,F,4,1,"div",8),e._uU(30,"\n              "),e.qZA(),e._uU(31,"\n            "),e.qZA(),e._uU(32,"\n            "),e.TgZ(33,"c-col",4),e._uU(34,"\n              "),e.TgZ(35,"div",5),e._uU(36,"\n                "),e.TgZ(37,"label",9),e._uU(38,"Abbreviation"),e.qZA(),e._uU(39,"\n                "),e._UZ(40,"input",10),e._uU(41,"\n                  "),e.YNc(42,N,4,1,"div",11),e._uU(43,"\n              "),e.qZA(),e._uU(44,"\n            "),e.qZA(),e._uU(45,"\n          "),e.qZA(),e._uU(46,"\n          "),e.TgZ(47,"c-row"),e._uU(48,"\n            "),e.TgZ(49,"c-col",4),e._uU(50,"\n              "),e.TgZ(51,"div",5),e._uU(52,"\n                "),e.TgZ(53,"label",12),e._uU(54,"Type"),e.qZA(),e._uU(55,"\n                "),e._UZ(56,"input",13),e._uU(57,"\n                  "),e.YNc(58,M,4,1,"div",11),e._uU(59,"\n              "),e.qZA(),e._uU(60,"\n            "),e.qZA(),e._uU(61,"\n          "),e.qZA(),e._uU(62,"\n          "),e.TgZ(63,"c-row"),e._uU(64,"\n            "),e.TgZ(65,"c-col",14),e._uU(66,"\n              "),e.TgZ(67,"div",5),e._uU(68,"\n                "),e.TgZ(69,"label",15),e._uU(70,"Description"),e.qZA(),e._uU(71,"\n                "),e.TgZ(72,"textarea",16),e._uU(73,"                "),e.qZA(),e._uU(74,"\n              "),e.qZA(),e._uU(75,"\n            "),e.qZA(),e._uU(76,"\n          "),e.qZA(),e._uU(77,"\n          "),e.TgZ(78,"c-row"),e._uU(79,"\n            "),e.TgZ(80,"c-col",17),e._uU(81,"\n              "),e.TgZ(82,"div",5),e._uU(83,"\n                "),e.TgZ(84,"label",18),e._uU(85,"Lower Limit"),e.qZA(),e._uU(86,"\n                "),e._UZ(87,"input",19),e._uU(88,"\n                "),e.YNc(89,Q,6,2,"div",8),e._uU(90,"\n              "),e.qZA(),e._uU(91,"\n            "),e.qZA(),e._uU(92,"\n            "),e.TgZ(93,"c-col",17),e._uU(94,"\n              "),e.TgZ(95,"div",5),e._uU(96,"\n                "),e.TgZ(97,"label",20),e._uU(98,"Upper Limit"),e.qZA(),e._uU(99,"\n                "),e._UZ(100,"input",21),e._uU(101,"\n                  "),e.YNc(102,Y,4,1,"div",11),e._uU(103,"\n              "),e.qZA(),e._uU(104,"\n            "),e.qZA(),e._uU(105,"\n            "),e.TgZ(106,"c-col",17),e._uU(107,"\n              "),e.TgZ(108,"div",5),e._uU(109,"\n                "),e.TgZ(110,"label",22),e._uU(111,"Units"),e.qZA(),e._uU(112,"\n                "),e._UZ(113,"input",23),e._uU(114,"\n                "),e.YNc(115,B,4,1,"div",8),e._uU(116,"\n              "),e.qZA(),e._uU(117,"\n            "),e.qZA(),e._uU(118,"\n          "),e.qZA(),e._uU(119,"\n          "),e.TgZ(120,"c-row"),e._uU(121,"\n            "),e.TgZ(122,"c-col",4),e._uU(123,"\n              "),e.TgZ(124,"div",5),e._uU(125,"\n                "),e.TgZ(126,"label",24),e._uU(127,"Scale"),e.qZA(),e._uU(128,"\n                "),e._UZ(129,"input",25),e._uU(130,"\n                  "),e.YNc(131,K,4,1,"div",11),e._uU(132,"\n              "),e.qZA(),e._uU(133,"\n            "),e.qZA(),e._uU(134,"\n          "),e.qZA(),e._uU(135,"\n          "),e.TgZ(136,"c-row"),e._uU(137,"\n            "),e.TgZ(138,"c-col",4),e._uU(139,"\n              "),e.TgZ(140,"div",5),e._uU(141,"\n                "),e.TgZ(142,"c-form-check",26),e._uU(143,"\n                  "),e._UZ(144,"input",27),e._uU(145,"\n                  "),e.TgZ(146,"label",28),e._uU(147,"QC Total Required"),e.qZA(),e._uU(148,"\n                "),e.qZA(),e._uU(149,"\n              "),e.qZA(),e._uU(150,"\n            "),e.qZA(),e._uU(151,"\n            "),e.TgZ(152,"c-col",4),e._uU(153,"\n              "),e.TgZ(154,"div",5),e._uU(155,"\n                "),e.TgZ(156,"c-form-check",26),e._uU(157,"\n                  "),e._UZ(158,"input",29),e._uU(159,"\n                  "),e.TgZ(160,"label",28),e._uU(161,"Selected"),e.qZA(),e._uU(162,"\n                "),e.qZA(),e._uU(163,"\n              "),e.qZA(),e._uU(164,"\n            "),e.qZA(),e._uU(165,"\n          "),e.qZA(),e._uU(166,"\n          "),e.TgZ(167,"c-row",30),e._uU(168,"\n            "),e.TgZ(169,"c-col",0),e._uU(170,"\n              "),e.TgZ(171,"button",31),e._uU(172,"\n                "),e.YNc(173,z,1,0,"c-spinner",32),e._uU(174," Submit "),e.qZA(),e._uU(175,"\n              "),e.TgZ(176,"button",33),e.NdJ("click",function(){return r.onReset()}),e._uU(177," Reset "),e.qZA(),e._uU(178,"\n              "),e.TgZ(179,"button",33),e.NdJ("click",function(){return r.onCancel()}),e._uU(180," Cancel "),e.qZA(),e._uU(181,"\n            "),e.qZA(),e._uU(182,"\n          "),e.qZA(),e._uU(183,"\n        "),e.qZA(),e._uU(184,"\n      "),e.qZA(),e._uU(185,"\n    "),e.qZA(),e._uU(186,"\n  "),e.qZA(),e._uU(187,"\n"),e.qZA()),2&t&&(e.xp6(9),e.hij("",r.isUpdate?"Update":"Add"," Element"),e.xp6(5),e.Q6J("ngIf",r.submitted&&r.form.invalid),e.xp6(2),e.Q6J("formGroup",r.form),e.xp6(11),e.Q6J("ngClass",e.VKq(19,b,(r.submitted||r.f.element_name.touched)&&r.f.element_name.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.element_name.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(21,b,(r.submitted||r.f.abbreviation.touched)&&r.f.abbreviation.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.abbreviation.errors),e.xp6(14),e.Q6J("ngClass",e.VKq(23,b,(r.submitted||r.f.element_type.touched)&&r.f.element_type.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.element_type.errors),e.xp6(29),e.Q6J("ngClass",e.VKq(25,b,(r.submitted||r.f.lower_limit.touched)&&r.f.lower_limit.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.lower_limit.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(27,b,(r.submitted||r.f.upper_limit.touched)&&r.f.upper_limit.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.upper_limit.errors),e.xp6(11),e.Q6J("ngClass",e.VKq(29,b,(r.submitted||r.f.units.touched)&&r.f.units.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.units.errors),e.xp6(14),e.Q6J("ngClass",e.VKq(31,b,(r.submitted||r.f.element_scale.touched)&&r.f.element_scale.invalid)),e.xp6(2),e.Q6J("ngIf",r.f.element_scale.errors),e.xp6(36),e.Q6J("ngClass",e.VKq(33,W,!r.error)),e.xp6(6),e.Q6J("ngIf",r.loading))},directives:[i.iok,i.Yp0,i.AkF,i.nkx,i.yue,n.O5,p._Y,p.JL,i.$_X,p.sg,i.eFW,p.Fj,i.oHf,p.JJ,p.u,n.mk,i.FzQ,i.yfq,p.Wl,i.NWu,i.Hq3,i.wxo,_.ar,i.ORR],styles:[""]}),o})();var V=c(2719),H=c(2997),X=c(5261);function j(o,s){1&o&&(e.O4$(),e._UZ(0,"svg",23))}function G(o,s){1&o&&(e.O4$(),e._UZ(0,"svg",24))}function ee(o,s){1&o&&(e.O4$(),e._UZ(0,"svg",23))}function ne(o,s){1&o&&(e.O4$(),e._UZ(0,"svg",24))}const te=function(o){return["/elements",o]},oe=function(o){return["/elements",o,"update"]};function ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"tr"),e._uU(1,"\n            "),e.TgZ(2,"th",12),e._uU(3),e.qZA(),e._uU(4,"\n            "),e.TgZ(5,"td",10),e._uU(6),e.qZA(),e._uU(7,"\n            "),e.TgZ(8,"td",10),e._uU(9),e.qZA(),e._uU(10,"\n            "),e.TgZ(11,"td",10),e._uU(12),e.qZA(),e._uU(13,"\n            "),e.TgZ(14,"td",10),e._uU(15),e.qZA(),e._uU(16,"\n            "),e.TgZ(17,"td",10),e._uU(18),e.qZA(),e._uU(19,"\n            "),e.TgZ(20,"td",10),e._uU(21),e.qZA(),e._uU(22,"\n            "),e.TgZ(23,"td",10),e.TgZ(24,"p",13),e._uU(25),e.qZA(),e.qZA(),e._uU(26,"\n            "),e.TgZ(27,"td",14),e._uU(28,"\n              "),e.YNc(29,j,1,0,"svg",15),e._uU(30,"\n              "),e.YNc(31,G,1,0,"svg",16),e._uU(32,"\n          "),e.qZA(),e._uU(33,"\n            "),e.TgZ(34,"td",14),e._uU(35,"\n                "),e.YNc(36,ee,1,0,"svg",15),e._uU(37,"\n                "),e.YNc(38,ne,1,0,"svg",16),e._uU(39,"\n            "),e.qZA(),e._uU(40,"\n            "),e.TgZ(41,"td"),e._uU(42,"\n              "),e.TgZ(43,"button",17),e._uU(44,"\n                "),e.O4$(),e._UZ(45,"svg",18),e._uU(46,"\n              "),e.qZA(),e._uU(47,"\n              "),e.kcU(),e.TgZ(48,"button",19),e._uU(49,"\n                "),e.O4$(),e._UZ(50,"svg",20),e._uU(51,"\n              "),e.qZA(),e._uU(52,"\n              "),e.kcU(),e.TgZ(53,"button",21),e.NdJ("click",function(){const q=e.CHM(t).$implicit;return e.oxw(2).remove(q)}),e._uU(54,"\n                "),e.O4$(),e._UZ(55,"svg",22),e._uU(56,"\n              "),e.qZA(),e._uU(57,"\n            "),e.qZA(),e._uU(58,"\n          "),e.qZA()}if(2&o){const t=s.$implicit;e.xp6(3),e.Oqu(t.element_id),e.xp6(3),e.Oqu(t.element_name),e.xp6(3),e.Oqu(t.element_type),e.xp6(3),e.Oqu(t.element_scale),e.xp6(3),e.Oqu(t.lower_limit||"No Value"),e.xp6(3),e.Oqu(t.upper_limit||"No Value"),e.xp6(3),e.Oqu(t.units),e.xp6(4),e.Oqu(t.description),e.xp6(4),e.Q6J("ngIf",t.qc_total_required),e.xp6(2),e.Q6J("ngIf",!t.qc_total_required),e.xp6(5),e.Q6J("ngIf",t.selected),e.xp6(2),e.Q6J("ngIf",!t.selected),e.xp6(5),e.Q6J("routerLink",e.VKq(14,te,t.element_id)),e.xp6(5),e.Q6J("routerLink",e.VKq(16,oe,t.element_id))}}function le(o,s){if(1&o){const t=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"c-card-body"),e._uU(1,"\n        "),e.TgZ(2,"app-paginator",8),e.NdJ("onPage",function(h){return e.CHM(t),e.oxw().onPage(h)}),e.qZA(),e._uU(3,"\n        "),e.TgZ(4,"table",9),e._uU(5,"\n          "),e.TgZ(6,"thead"),e._uU(7,"\n          "),e.TgZ(8,"tr"),e._uU(9,"\n            "),e.TgZ(10,"th",10),e._uU(11,"ID"),e.qZA(),e._uU(12,"\n            "),e.TgZ(13,"th",10),e._uU(14,"Name"),e.qZA(),e._uU(15,"\n            "),e.TgZ(16,"th",10),e._uU(17,"Type"),e.qZA(),e._uU(18,"\n            "),e.TgZ(19,"th",10),e._uU(20,"Scale"),e.qZA(),e._uU(21,"\n            "),e.TgZ(22,"th",10),e._uU(23,"Lower Limit"),e.qZA(),e._uU(24,"\n            "),e.TgZ(25,"th",10),e._uU(26,"Upper Limit"),e.qZA(),e._uU(27,"\n            "),e.TgZ(28,"th",10),e._uU(29,"Units"),e.qZA(),e._uU(30,"\n            "),e.TgZ(31,"th",10),e._uU(32,"Description"),e.qZA(),e._uU(33,"\n            "),e.TgZ(34,"th",10),e._uU(35,"QC Total Required"),e.qZA(),e._uU(36,"\n            "),e.TgZ(37,"th",10),e._uU(38,"Selected"),e.qZA(),e._uU(39,"\n            "),e._UZ(40,"th"),e._uU(41,"\n          "),e.qZA(),e._uU(42,"\n          "),e.qZA(),e._uU(43,"\n          "),e.TgZ(44,"tbody"),e._uU(45,"\n          "),e.YNc(46,ie,59,18,"tr",11),e._uU(47,"\n          "),e.qZA(),e._uU(48,"\n        "),e.qZA(),e._uU(49,"\n      "),e.qZA()}if(2&o){const t=s.$implicit,r=e.oxw();e.xp6(2),e.Q6J("limit",t.limit)("current",t.page)("pages",r.createPages(t.pages)),e.xp6(44),e.Q6J("ngForOf",t.elements)}}const re=function(){return["/elements","new"]},ae=[{path:"",component:(()=>{class o{constructor(t,r){this.elementService=t,this.modalService=r,this.elements$=(0,H.of)({elements:[],limit:1,page:1,pages:1})}ngOnInit(){this.elements$=this.elementService.elements}remove(t){this.modalService.show(V.S,{initialState:{title:"Element Removal",message:"Operation cannot be undone. Are you sure you want to remove the element and its associated data?",confirm:"Go Ahead",cancel:"Cancel"}}).content.onClose.subscribe(q=>{q&&t.element_id&&this.elementService.removeElement(t.element_id)})}onPage(t){this.elementService.updateState(t)}createPages(t){return[...Array(t).keys()].map(r=>r+1)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.d),e.Y36(v.tT))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-elements"]],decls:31,vars:5,consts:[["xs","12","lg","12","xl","12"],[1,"mb-4"],["xs","6"],[1,"col-6"],["xs","6",1,"text-end"],[1,"btn","btn-sm","cs-btn-sm","btn-outline",3,"routerLink"],["cIcon","","name","cilPlus"],[4,"ngIf"],[3,"limit","current","pages","onPage"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"desc-text"],["scope","col",1,"text-start"],["cIcon","","name","cilCheck","class","text-success",4,"ngIf"],["cIcon","","name","cilXCircle","class","text-danger",4,"ngIf"],["cButton","","color","light","size","sm","shape","rounded-pill","cTooltip","View Element",3,"routerLink"],["cIcon","","name","cilArrowThickFromLeft","size","sm"],["cButton","","color","light","size","sm","shape","rounded-pill","cTooltip","Update Element",3,"routerLink"],["cIcon","","name","cilPencil","size","sm"],["cButton","","color","light","size","sm","shape","rounded-pill","cTooltip","Remove Element",3,"click"],["cIcon","","name","cilTrash","size","sm",1,"text-danger"],["cIcon","","name","cilCheck",1,"text-success"],["cIcon","","name","cilXCircle",1,"text-danger"]],template:function(t,r){1&t&&(e.TgZ(0,"c-row"),e._uU(1,"\n  "),e.TgZ(2,"c-col",0),e._uU(3,"\n    "),e.TgZ(4,"c-card",1),e._uU(5,"\n      "),e.TgZ(6,"c-card-header"),e._uU(7,"\n        "),e.TgZ(8,"c-row"),e._uU(9,"\n          "),e.TgZ(10,"c-col",2),e._uU(11,"\n            "),e.TgZ(12,"strong",3),e._uU(13,"Stations"),e.qZA(),e._uU(14,"\n          "),e.qZA(),e._uU(15,"\n          "),e.TgZ(16,"c-col",4),e._uU(17,"\n            "),e.TgZ(18,"a",5),e._uU(19," "),e.O4$(),e._UZ(20,"svg",6),e._uU(21," Add New "),e.qZA(),e._uU(22,"\n          "),e.qZA(),e._uU(23,"\n        "),e.qZA(),e._uU(24,"\n      "),e.qZA(),e._uU(25,"\n      "),e.YNc(26,le,50,4,"c-card-body",7),e.ALo(27,"async"),e._uU(28,"\n    "),e.qZA(),e._uU(29,"\n  "),e.qZA(),e._uU(30,"\n"),e.qZA()),2&t&&(e.xp6(18),e.Q6J("routerLink",e.DdM(4,re)),e.xp6(8),e.Q6J("ngIf",e.lcZ(27,2,r.elements$)))},directives:[i.iok,i.Yp0,i.AkF,i.nkx,m.yS,_.ar,n.O5,i.yue,X.J,i.auY,n.sg,i.Hq3,i.i9q,m.rH],pipes:[n.Ov],styles:[".desc-text[_ngcontent-%COMP%]{max-width:150px;text-overflow:clip}"]}),o})(),data:{title:"Elements"}},{path:"new",component:O,canDeactivate:[l.C],data:{title:"New Element",update:!1}},{path:":id/update",component:O,data:{title:"Update Station",update:!0}},{path:":id",component:Z,data:{title:"Element"}}];let ce=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[m.Bz.forChild(ae)],m.Bz]}),o})();var se=c(4333);let ue=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[n.ez,ce,se.m]]}),o})()},74:(I,T,c)=>{c.d(T,{d:()=>C});var n=c(4499),m=c(2835),l=c(7384),U=c(3668),g=c(453);const f="climsoft/v1/obselements";let C=(()=>{class e{constructor(a){this.http=a,this.state$=new n.X({elements:[],limit:10,page:1,pages:1}),this.init=!1;const i=this.state$.getValue();this.getElements(i.page,i.limit)}get elements(){return this.state$.asObservable()}adapt(a){const i={element_id:"Element ID",abbreviation:"Abbreviation",element_name:"Element Name",description:"Description",element_scale:"Element Scale",upper_limit:"Upper Limit",lower_limit:"Lower Limit",units:"Units",element_type:"Element Type",qc_total_required:"QC Total Required",selected:"Selected"};let _=[];return Object.keys(a).filter(u=>"elementId"!==u).forEach(u=>{_.push({key:i[u],value:a[u]||"No Value"})}),_}updateState(a){if(a.page){const i=this.state$.getValue().limit;this.getElements(a.page,i)}a.limit&&this.getElements(1,a.limit)}getElements(a,i){this.http.GET(`${f}?limit=${i}&offset=${(a-1)*i}`).subscribe(u=>{console.log(u),this.state$.next({elements:u.result,limit:i,page:u.page,pages:u.pages}),this.init=!0})}searchElements(a){return this.http.GET(`climsoft/v1/obselements/search?query=${a}`)}getElement(a){return this.http.GET(`${f}/${a}`)}addElement(a){return this.http.POST(`${f}`,Object.assign({},a)).pipe((0,m.K)(i=>{throw new Error(i.error.message)}),(0,l.b)(i=>{console.log(i);const _=this.state$.getValue(),{page:u,limit:d}=_;this.getElements(u,d)}))}updateElement(a,i){return this.http.PUT(`${f}/${a}`,i).pipe((0,m.K)(_=>{throw new Error(_.error.message)}),(0,l.b)(_=>{const u=this.state$.getValue(),{page:d,limit:A}=u;this.getElements(d,A)}))}removeElement(a){this.http.DELETE(`${f}/${a}`).pipe((0,m.K)(i=>{throw new Error(i.error.message)})).subscribe(i=>{const _=this.state$.getValue(),{page:u,limit:d}=_;this.getElements(u,d)})}}return e.\u0275fac=function(a){return new(a||e)(U.LFG(g.O))},e.\u0275prov=U.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},4379:(I,T,c)=>{c.d(T,{$:()=>m});var n=c(3668);let m=(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(g){return new(g||l)},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-infinite-loading"]],decls:2,vars:0,consts:[[1,"infinite-loader"],[1,"loader-bar"]],template:function(g,f){1&g&&(n.TgZ(0,"div",0),n._UZ(1,"div",1),n.qZA())},styles:['.infinite-loader[_ngcontent-%COMP%]{width:100%;margin:0 auto;border-radius:10px;border:4px solid transparent;position:relative;padding:1px}.infinite-loader[_ngcontent-%COMP%]:before{content:"";border:1px solid #1697ec;border-radius:10px;position:absolute;top:-4px;right:-4px;bottom:-4px;left:-4px}.infinite-loader[_ngcontent-%COMP%]   .loader-bar[_ngcontent-%COMP%]{position:absolute;border-radius:10px;top:0;right:100%;bottom:0;left:0;background:#1697ec;width:0;animation:borealisBar 1s linear infinite}@keyframes borealisBar{0%{left:0%;right:100%;width:0%}10%{left:0%;right:75%;width:25%}90%{right:0%;left:75%;width:25%}to{left:100%;right:0%;width:0%}}']}),l})()},1769:(I,T,c)=>{c.d(T,{t:()=>a});var n=c(2070),l=c(3668),U=c(2606),g=c(6019);function f(i,_){if(1&i&&(l.TgZ(0,"span"),l._uU(1),l.ALo(2,"date"),l.qZA()),2&i){const u=l.oxw(2);l.xp6(1),l.Oqu(l.lcZ(2,1,u.config.value))}}function C(i,_){if(1&i&&(l.TgZ(0,"div",6),l.YNc(1,f,3,3,"span",7),l.qZA()),2&i){const u=l.oxw(),d=l.MAs(9);l.xp6(1),l.Q6J("ngIf",u.isDate(u.config.value))("ngIfElse",d)}}function e(i,_){if(1&i&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&i){const u=l.oxw();l.xp6(1),l.Oqu(u.config.value)}}function v(i,_){1&i&&(l.TgZ(0,"div",8),l._uU(1,"Invalid Date"),l.qZA())}let a=(()=>{class i{constructor(){}ngOnInit(){}isDate(u){return n(u).isValid()}}return i.\u0275fac=function(u){return new(u||i)},i.\u0275cmp=l.Xpm({type:i,selectors:[["app-info-block"]],inputs:{config:"config"},decls:10,vars:3,consts:[["xs","12",1,"p-1"],[1,"wrap"],[1,"col-12","key"],["class","col-12 value",4,"ngIf","ngIfElse"],["block",""],["invalidDate",""],[1,"col-12","value"],[4,"ngIf","ngIfElse"],[1,"col-12","value","text-danger"]],template:function(u,d){if(1&u&&(l.TgZ(0,"c-col",0),l.TgZ(1,"div",1),l.TgZ(2,"c-row"),l.TgZ(3,"div",2),l._uU(4),l.qZA(),l.YNc(5,C,2,2,"div",3),l.qZA(),l.qZA(),l.qZA(),l.YNc(6,e,2,1,"ng-template",null,4,l.W1O),l.YNc(8,v,2,0,"ng-template",null,5,l.W1O)),2&u){const A=l.MAs(7);l.xp6(4),l.Oqu(d.config.key),l.xp6(1),l.Q6J("ngIf","date"===d.config.type)("ngIfElse",A)}},directives:[U.Yp0,U.iok,g.O5],pipes:[g.uU],styles:[".wrap[_ngcontent-%COMP%]{padding:.3rem .5rem;background-color:#f7f7f7;border:1px solid #e1e1e1;border-radius:.2rem}.wrap[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{font-size:.7rem}.wrap[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1.1rem}"]}),i})()},5261:(I,T,c)=>{c.d(T,{J:()=>C});var n=c(3668),m=c(2606),l=c(8063),U=c(6019);function g(e,v){if(1&e){const a=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"li",12),n.TgZ(1,"a",3),n.NdJ("click",function(){const u=n.CHM(a).$implicit;return n.oxw().pageChange(u)}),n._uU(2),n.qZA(),n.qZA()}if(2&e){const a=v.$implicit,i=n.oxw();n.Q6J("active",i.current===a),n.xp6(2),n.Oqu(a)}}function f(e,v){if(1&e){const a=n.EpF();n.TgZ(0,"button",13),n.NdJ("click",function(){const u=n.CHM(a).$implicit;return n.oxw().onLimit(u)}),n._uU(1),n.qZA()}if(2&e){const a=v.$implicit,i=n.oxw();n.Q6J("active",a===i.limit),n.xp6(1),n.hij(" ",a," ")}}let C=(()=>{class e{constructor(){this.limits=[10,20,30,50],this.limit=10,this.current=1,this.pages=[1],this.onPage=new n.vpe}ngOnInit(){}pageChange(a){"..."!==a&&(this.current=a,this.ngOnInit(),this.onPage.emit({page:a}))}onLimit(a){this.limit=a,this.onPage.emit({limit:a})}getPages(){if(this.pages.length<=10)return this.pages;var E,a=this.current,i=this.pages.length,u=a-2,d=a+2+1,A=[],x=[];for(let Z=1;Z<=i;Z++)(1==Z||Z==i||Z>=u&&Z<d)&&A.push(Z);for(let Z of A)E&&(Z-E==2?x.push(E+1):Z-E!=1&&x.push("...")),x.push(Z),E=Z;return x}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-paginator"]],inputs:{limits:"limits",limit:"limit",current:"current",pages:"pages"},outputs:{onPage:"onPage"},decls:19,vars:6,consts:[["xs","12","md","8","xl","5"],["aria-label","navigation","size","sm",1,"justify-content-center"],["cPageItem","",3,"disabled"],["cPageLink","",3,"click"],["cIcon","","name","cilMediaStepBackward"],["cIcon","","name","cilMediaSkipBackward"],["cPageItem","",3,"active",4,"ngFor","ngForOf"],["cIcon","","name","cilMediaSkipForward"],["cIcon","","name","cilMediaStepForward"],["xs","12","md","4","xl","7",1,"text-end"],["aria-label","Basic outlined example","role","group","size","sm"],["cButton","","color","primary","variant","outline",3,"active","click",4,"ngFor","ngForOf"],["cPageItem","",3,"active"],["cButton","","color","primary","variant","outline",3,"active","click"]],template:function(a,i){1&a&&(n.TgZ(0,"c-row"),n.TgZ(1,"c-col",0),n.TgZ(2,"c-pagination",1),n.TgZ(3,"li",2),n.TgZ(4,"a",3),n.NdJ("click",function(){return i.pageChange(1)}),n.O4$(),n._UZ(5,"svg",4),n.qZA(),n.qZA(),n.kcU(),n.TgZ(6,"li",2),n.TgZ(7,"a",3),n.NdJ("click",function(){return i.pageChange(i.current-1)}),n.O4$(),n._UZ(8,"svg",5),n.qZA(),n.qZA(),n.YNc(9,g,3,2,"li",6),n.kcU(),n.TgZ(10,"li",2),n.TgZ(11,"a",3),n.NdJ("click",function(){return i.pageChange(i.current+1)}),n.O4$(),n._UZ(12,"svg",7),n.qZA(),n.qZA(),n.kcU(),n.TgZ(13,"li",2),n.TgZ(14,"a",3),n.NdJ("click",function(){return i.pageChange(i.pages.length)}),n.O4$(),n._UZ(15,"svg",8),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.kcU(),n.TgZ(16,"c-col",9),n.TgZ(17,"c-button-group",10),n.YNc(18,f,2,2,"button",11),n.qZA(),n.qZA(),n.qZA()),2&a&&(n.xp6(3),n.Q6J("disabled",1===i.current),n.xp6(3),n.Q6J("disabled",1===i.current),n.xp6(3),n.Q6J("ngForOf",i.getPages()),n.xp6(1),n.Q6J("disabled",i.current===i.pages.length),n.xp6(3),n.Q6J("disabled",i.current===i.pages.length),n.xp6(5),n.Q6J("ngForOf",i.limits))},directives:[m.iok,m.Yp0,m.QtL,m.Qmh,m.YHm,l.ar,U.sg,m.KbJ,m.Hq3],styles:[".page-item[_ngcontent-%COMP%]{cursor:pointer}.page-item.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"]}),e})()}}]);