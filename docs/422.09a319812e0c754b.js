"use strict";(self.webpackChunkclimsoft_app=self.webpackChunkclimsoft_app||[]).push([[422],{6422:(Ut,q,r)=>{r.r(q),r.d(q,{StationModule:()=>mt});var l=r(6019),N=r(4333),J=r(7777),u=r(9133),f=r(7384),U=r(461),v=r(3067),A=r(9468),Q=r(2070),Y=r(9463),p=r(4753),k=r(2835),m=r(2997),n=r(3668),g=r(1850),h=r(9935),s=r(2606),T=r(8063),C=r(4859);function P(o,i){1&o&&(n.TgZ(0,"c-alert",53),n.TgZ(1,"strong"),n._uU(2,"Error(s) Found!"),n.qZA(),n._uU(3," Please correct the following erros before you proceed."),n.qZA())}function M(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Station id is required."),n.qZA())}function $(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Station id already exists."),n.qZA())}function L(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,M,4,0,"div",57),n._uU(3,"\n                  "),n.YNc(4,$,4,0,"div",57),n._uU(5,"\n                "),n.qZA()),2&o){const t=n.oxw(2);n.xp6(2),n.Q6J("ngIf",t.f.station_id.errors.required),n.xp6(2),n.Q6J("ngIf",t.stValidated&&t.f.station_id.hasError("stationExists"))}}const E=function(o,i){return{"is-invalid":o,"is-valid":i}};function V(o,i){if(1&o&&(n.TgZ(0,"c-col",5),n._uU(1,"\n              "),n.TgZ(2,"div",6),n._uU(3,"\n                "),n.TgZ(4,"label",54),n._uU(5,"Station ID"),n.qZA(),n._uU(6,"\n                "),n._UZ(7,"input",55),n._uU(8,"\n                "),n.YNc(9,L,6,2,"div",9),n._uU(10,"\n              "),n.qZA(),n._uU(11,"\n            "),n.qZA()),2&o){const t=n.oxw();n.xp6(7),n.Q6J("ngClass",n.WLB(2,E,(t.submitted||t.f.station_id.touched)&&t.f.station_id.invalid,t.stValidated&&!t.f.station_id.hasError("stationExists"))),n.xp6(2),n.Q6J("ngIf",t.f.station_id.errors)}}function R(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Station name is required."),n.qZA())}function H(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,R,4,0,"div",57),n._uU(3,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.station_name.errors.required)}}function D(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Longitude is required."),n.qZA())}function z(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Longitude must be a number."),n.qZA())}function K(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,D,4,0,"div",57),n._uU(3,"\n                    "),n.YNc(4,z,4,0,"div",57),n._uU(5,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.longitude.errors.required),n.xp6(2),n.Q6J("ngIf",t.f.longitude.errors.pattern)}}function B(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Latitude is required."),n.qZA())}function G(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Latitude must be a number."),n.qZA())}function j(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,B,4,0,"div",57),n._uU(3,"\n                  "),n.YNc(4,G,4,0,"div",57),n._uU(5,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.latitude.errors.required),n.xp6(2),n.Q6J("ngIf",t.f.latitude.errors.pattern)}}function X(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Elevation is required."),n.qZA())}function W(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,X,4,0,"div",57),n._uU(3,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.elevation.errors.required)}}function nn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," WMO Id is required."),n.qZA())}function tn(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,nn,4,0,"div",57),n._uU(3,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.wmoid.errors.required)}}function on(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Icao id is required."),n.qZA())}function en(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,on,4,0,"div",57),n._uU(3,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.icaoid.errors.required)}}function an(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Country is required."),n.qZA())}function cn(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,an,4,0,"div",57),n._uU(3,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.country.errors.required)}}function sn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Authority is required."),n.qZA())}function rn(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,sn,4,0,"div",57),n._uU(3,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.authority.errors.required)}}function un(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Admin region is required."),n.qZA())}function ln(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,un,4,0,"div",57),n._uU(3,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.admin_region.errors.required)}}function _n(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Drainage basin is required."),n.qZA())}function dn(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,_n,4,0,"div",57),n._uU(3,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.drainage_basin.errors.required)}}function gn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Qualifier is required."),n.qZA())}function pn(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,gn,4,0,"div",57),n._uU(3,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.qualifier.errors.required)}}function mn(o,i){1&o&&(n.TgZ(0,"div",60),n._uU(1,"\n                    "),n.TgZ(2,"div"),n._uU(3," "),n.O4$(),n._UZ(4,"svg",58),n._uU(5," Opening date time is required."),n.qZA(),n._uU(6,"\n                  "),n.qZA())}function Un(o,i){1&o&&(n.TgZ(0,"div",60),n._uU(1,"\n                    "),n.TgZ(2,"div"),n._uU(3," "),n.O4$(),n._UZ(4,"svg",58),n._uU(5," Opening date time is required."),n.qZA(),n._uU(6,"\n                  "),n.qZA())}function fn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Geo location method is required."),n.qZA())}function Zn(o,i){if(1&o&&(n.TgZ(0,"div",59),n._uU(1,"\n                    "),n.YNc(2,fn,4,0,"div",57),n._uU(3,"\n                  "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.geolocation_method.errors.required)}}function vn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Geo location accuracy is required."),n.qZA())}function hn(o,i){1&o&&(n.TgZ(0,"div"),n._uU(1," "),n.O4$(),n._UZ(2,"svg",58),n._uU(3," Value must be a number."),n.qZA())}function Tn(o,i){if(1&o&&(n.TgZ(0,"div",56),n._uU(1,"\n                  "),n.YNc(2,vn,4,0,"div",57),n._uU(3,"\n                  "),n.YNc(4,hn,4,0,"div",57),n._uU(5,"\n                "),n.qZA()),2&o){const t=n.oxw();n.xp6(2),n.Q6J("ngIf",t.f.geolocation_accuracy.errors.required),n.xp6(2),n.Q6J("ngIf",t.f.geolocation_accuracy.errors.pattern)}}function qn(o,i){1&o&&n._UZ(0,"c-spinner",61)}const _=function(o){return{"is-invalid":o}},An=function(o){return{"mt-3":o}};let b=(()=>{class o{constructor(t,e,a){this.router=t,this.route=e,this.stationService=a,this.bsConfig={isAnimated:!0,containerClass:"theme-blue",dateInputFormat:"DD/MM/YYYY HH:mm",withTimepicker:!0},this.stValidated=!1,this.form=new u.cw({station_id:new u.NI(null,u.kI.required,[this.stationValidator()]),station_name:new u.NI("",u.kI.required),longitude:new u.NI(""),latitude:new u.NI(""),elevation:new u.NI(""),wmoid:new u.NI(""),icaoid:new u.NI(""),country:new u.NI(""),authority:new u.NI(""),admin_region:new u.NI(""),drainage_basin:new u.NI(""),qualifier:new u.NI(""),opening_datetime:new u.NI(""),closing_datetime:new u.NI(""),geolocation_method:new u.NI(""),geolocation_accuracy:new u.NI(""),station_operational:new u.NI(!1),waca_selection:new u.NI(!1),cpt_selection:new u.NI(!1)}),this.submitted=!1,this.loading=!1,this.error=!1,this.isUpdate=!1}canExit(){return console.log(this.form.dirty),!this.form.dirty||window.confirm("You have unsaved changes. Are you sure you want to leave the page?")}ngOnInit(){this.route.params.pipe((0,f.b)(t=>{this.loading=t.id}),(0,U.h)(t=>t.id),(0,v.w)(t=>(this.id=t.id,this.isUpdate=!0,this.stationService.getStation(t.id)))).pipe((0,U.h)(t=>t.result&&t.result.length)).subscribe(t=>{console.log(t),this.form.removeControl("station_id"),this.form.patchValue(t.result[0]),this.loading=!1})}get f(){return this.form.controls}onSubmit(t){console.log(this.form.value),this.submitted=!0,!this.form.invalid&&(this.isUpdate?this.stationService.updateStation(this.id,this.form.value):this.stationService.addStation(this.form.value)).subscribe(e=>{this.form.reset(),this.router.navigateByUrl("/stations")})}onOpeningChanged(t){t&&(this.form.controls.opening_datetime.setValue(t.toISOString()),this.minDate=Q(t).startOf("day").add(1,"day").toDate())}onClosingChanged(t){t&&this.form.controls.closing_datetime.setValue(t.toISOString())}onReset(){}onCancel(){this.router.navigateByUrl("/stations")}stationValidator(){let t="";return e=>e.valueChanges.pipe((0,Y.b)(500),(0,U.h)(a=>a.trim().length>0),(0,A.q)(1),(0,f.b)(a=>{t=a,this.stValidated=!1}),(0,v.w)(a=>this.stationService.searchStation(a))).pipe((0,p.U)(a=>(this.stValidated=!0,a.result.length>1?a.result.filter(d=>d.station_id===t).length>0?{stationExists:!0}:null:(a.result.length&&e.markAsTouched(),1===a.result.length?{stationExists:!0}:null))),(0,k.K)(a=>(0,m.of)(null)))}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(g.F0),n.Y36(g.gz),n.Y36(h.v))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station-form"]],decls:322,vars:73,consts:[["xs","12"],[1,"mb-4"],["color","danger",4,"ngIf"],["cForm","","novalidate","",3,"formGroup","ngSubmit"],["xs","12","md","5","xl","4",4,"ngIf"],["xs","12","md","5","xl","4"],[1,"mb-3"],["cLabel","","for","st_name"],["id","st-name","formControlName","station_name","aria-label","default input","cFormControl","","placeholder","Station Name",3,"ngClass"],["col","12","class","invalid-feedback",4,"ngIf"],["cLabel","","for","st_long"],["id","st-long","formControlName","longitude","aria-label","default input","cFormControl","","placeholder","Longitude",3,"ngClass"],["col","12","class","invalid-feedback pl-1",4,"ngIf"],["cLabel","","for","st_lat"],["id","st-lat","formControlName","latitude","aria-label","default input","cFormControl","","placeholder","Latitude",3,"ngClass"],["cLabel","","for","st_elev"],["id","st-elev","formControlName","elevation","aria-label","default input","cFormControl","","placeholder","Elevation",3,"ngClass"],["cLabel","","for","st_wmoid"],["id","st-wmoid","formControlName","wmoid","aria-label","default input","cFormControl","","placeholder","WMO ID",3,"ngClass"],["cLabel","","for","st-icao"],["id","st-icao","formControlName","icaoid","aria-label","default input","cFormControl","","placeholder","ICAO ID",3,"ngClass"],["cLabel","","for","st-county"],["id","st-country","formControlName","country","aria-label","default input","cFormControl","","placeholder","Country",3,"ngClass"],["cLabel","","for","st-auth"],["id","st-auth","formControlName","authority","aria-label","default input","cFormControl","","placeholder","Authority",3,"ngClass"],["cLabel","","for","st-adm-reg"],["id","st-adm-reg","formControlName","admin_region","aria-label","default input","cFormControl","","placeholder","Admin Region",3,"ngClass"],["cLabel","","for","st-drain"],["id","st-drain","formControlName","drainage_basin","aria-label","default input","cFormControl","","placeholder","Drainage Baasein",3,"ngClass"],["cLabel","","for","st-qual"],["id","st-qual","formControlName","qualifier","aria-label","default input","cFormControl","","placeholder","Qualifier",3,"ngClass"],["cLabel","","for","st-open-dt"],["cInputGroupText",""],["cIcon","","name","cilCalendar"],["id","st-opem-dt","type","hidden","formControlName","opening_datetime","aria-label","default input","cFormControl",""],["name","monthYear","placeholder","Select End Date","cFormControl","","bsDatepicker","","autocomplete","off",3,"ngClass","bsConfig","bsValue","bsValueChange"],["sm","12","class","invalid-feedback",4,"ngIf"],["cLabel","","for","st-close-dt"],["id","st-close-dt","type","hidden","formControlName","closing_datetime","aria-label","default input","cFormControl",""],["name","closingDate","placeholder","Select Closing Date","cFormControl","","bsDatepicker","","autocomplete","off",3,"ngClass","bsConfig","bsValue","minDate","bsValueChange"],["cLabel","","for","st-geo-method"],["id","st-geo-method","formControlName","geolocation_method","aria-label","default input","cFormControl","","placeholder","Geo Location Method",3,"ngClass"],["cLabel","","for","st-geo-acc"],["id","st-geo-acc","formControlName","geolocation_accuracy","aria-label","default input","cFormControl","","placeholder","Geo Location Accuracy",3,"ngClass"],["sizing","lg","switch",""],["cFormCheckInput","","type","checkbox","formControlName","station_operational"],["cFormCheckLabel",""],["cFormCheckInput","","type","checkbox","formControlName","waca_selection"],["cFormCheckInput","","type","checkbox","formControlName","cpt_selection"],[3,"ngClass"],["type","submit","cButton","","color","dark",1,"px-4"],["aria-hidden","true","size","sm",4,"ngIf"],["type","button","cButton","","color","dark",1,"px-4",3,"click"],["color","danger"],["cLabel","","for","st_id"],["id","st_id","formControlName","station_id","aria-label","default input","cFormControl","","placeholder","Station ID",3,"ngClass"],["col","12",1,"invalid-feedback"],[4,"ngIf"],["cIcon","","name","cilXCircle"],["col","12",1,"invalid-feedback","pl-1"],["sm","12",1,"invalid-feedback"],["aria-hidden","true","size","sm"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",0),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-header"),n._uU(7,"\n        "),n.TgZ(8,"strong"),n._uU(9),n.qZA(),n._uU(10,"\n      "),n.qZA(),n._uU(11,"\n      "),n.TgZ(12,"c-card-body"),n._uU(13,"\n        "),n.YNc(14,P,4,0,"c-alert",2),n._uU(15,"\n        "),n.TgZ(16,"form",3),n.NdJ("ngSubmit",function(c){return e.onSubmit(c)}),n._uU(17,"\n          "),n.TgZ(18,"c-row"),n._uU(19,"\n            "),n.YNc(20,V,12,5,"c-col",4),n._uU(21,"\n            "),n.TgZ(22,"c-col",5),n._uU(23,"\n              "),n.TgZ(24,"div",6),n._uU(25,"\n                "),n.TgZ(26,"label",7),n._uU(27,"Name"),n.qZA(),n._uU(28,"\n                "),n._UZ(29,"input",8),n._uU(30,"\n                "),n.YNc(31,H,4,1,"div",9),n._uU(32,"\n              "),n.qZA(),n._uU(33,"\n            "),n.qZA(),n._uU(34,"\n          "),n.qZA(),n._uU(35,"\n          "),n.TgZ(36,"c-row"),n._uU(37,"\n            "),n.TgZ(38,"c-col",5),n._uU(39,"\n              "),n.TgZ(40,"div",6),n._uU(41,"\n                "),n.TgZ(42,"label",10),n._uU(43,"Longitude"),n.qZA(),n._uU(44,"\n                "),n._UZ(45,"input",11),n._uU(46,"\n                  "),n.YNc(47,K,6,2,"div",12),n._uU(48,"\n              "),n.qZA(),n._uU(49,"\n            "),n.qZA(),n._uU(50,"\n            "),n.TgZ(51,"c-col",5),n._uU(52,"\n              "),n.TgZ(53,"div",6),n._uU(54,"\n                "),n.TgZ(55,"label",13),n._uU(56,"Latitude"),n.qZA(),n._uU(57,"\n                "),n._UZ(58,"input",14),n._uU(59,"\n                "),n.YNc(60,j,6,2,"div",9),n._uU(61,"\n              "),n.qZA(),n._uU(62,"\n            "),n.qZA(),n._uU(63,"\n          "),n.qZA(),n._uU(64,"\n          "),n.TgZ(65,"c-row"),n._uU(66,"\n            "),n.TgZ(67,"c-col",5),n._uU(68,"\n              "),n.TgZ(69,"div",6),n._uU(70,"\n                "),n.TgZ(71,"label",15),n._uU(72,"Elevation"),n.qZA(),n._uU(73,"\n                "),n._UZ(74,"input",16),n._uU(75,"\n                  "),n.YNc(76,W,4,1,"div",12),n._uU(77,"\n              "),n.qZA(),n._uU(78,"\n            "),n.qZA(),n._uU(79,"\n            "),n.TgZ(80,"c-col",5),n._uU(81,"\n              "),n.TgZ(82,"div",6),n._uU(83,"\n                "),n.TgZ(84,"label",17),n._uU(85,"WMO ID"),n.qZA(),n._uU(86,"\n                "),n._UZ(87,"input",18),n._uU(88,"\n                "),n.YNc(89,tn,4,1,"div",9),n._uU(90,"\n              "),n.qZA(),n._uU(91,"\n            "),n.qZA(),n._uU(92,"\n          "),n.qZA(),n._uU(93,"\n          "),n.TgZ(94,"c-row"),n._uU(95,"\n            "),n.TgZ(96,"c-col",5),n._uU(97,"\n              "),n.TgZ(98,"div",6),n._uU(99,"\n                "),n.TgZ(100,"label",19),n._uU(101,"ICAO ID"),n.qZA(),n._uU(102,"\n                "),n._UZ(103,"input",20),n._uU(104,"\n                  "),n.YNc(105,en,4,1,"div",12),n._uU(106,"\n              "),n.qZA(),n._uU(107,"\n            "),n.qZA(),n._uU(108,"\n            "),n.TgZ(109,"c-col",5),n._uU(110,"\n              "),n.TgZ(111,"div",6),n._uU(112,"\n                "),n.TgZ(113,"label",21),n._uU(114,"Country"),n.qZA(),n._uU(115,"\n                "),n._UZ(116,"input",22),n._uU(117,"\n                "),n.YNc(118,cn,4,1,"div",9),n._uU(119,"\n              "),n.qZA(),n._uU(120,"\n            "),n.qZA(),n._uU(121,"\n          "),n.qZA(),n._uU(122,"\n          "),n.TgZ(123,"c-row"),n._uU(124,"\n            "),n.TgZ(125,"c-col",5),n._uU(126,"\n              "),n.TgZ(127,"div",6),n._uU(128,"\n                "),n.TgZ(129,"label",23),n._uU(130,"Authority"),n.qZA(),n._uU(131,"\n                "),n._UZ(132,"input",24),n._uU(133,"\n                  "),n.YNc(134,rn,4,1,"div",12),n._uU(135,"\n              "),n.qZA(),n._uU(136,"\n            "),n.qZA(),n._uU(137,"\n            "),n.TgZ(138,"c-col",5),n._uU(139,"\n              "),n.TgZ(140,"div",6),n._uU(141,"\n                "),n.TgZ(142,"label",25),n._uU(143,"Admin Region"),n.qZA(),n._uU(144,"\n                "),n._UZ(145,"input",26),n._uU(146,"\n                "),n.YNc(147,ln,4,1,"div",9),n._uU(148,"\n              "),n.qZA(),n._uU(149,"\n            "),n.qZA(),n._uU(150,"\n          "),n.qZA(),n._uU(151,"\n          "),n.TgZ(152,"c-row"),n._uU(153,"\n            "),n.TgZ(154,"c-col",5),n._uU(155,"\n              "),n.TgZ(156,"div",6),n._uU(157,"\n                "),n.TgZ(158,"label",27),n._uU(159,"Drainage Basin"),n.qZA(),n._uU(160,"\n                "),n._UZ(161,"input",28),n._uU(162,"\n                  "),n.YNc(163,dn,4,1,"div",12),n._uU(164,"\n              "),n.qZA(),n._uU(165,"\n            "),n.qZA(),n._uU(166,"\n            "),n.TgZ(167,"c-col",5),n._uU(168,"\n              "),n.TgZ(169,"div",6),n._uU(170,"\n                "),n.TgZ(171,"label",29),n._uU(172,"Qualifier"),n.qZA(),n._uU(173,"\n                "),n._UZ(174,"input",30),n._uU(175,"\n                "),n.YNc(176,pn,4,1,"div",9),n._uU(177,"\n              "),n.qZA(),n._uU(178,"\n            "),n.qZA(),n._uU(179,"\n          "),n.qZA(),n._uU(180,"\n          "),n.TgZ(181,"c-row"),n._uU(182,"\n            "),n.TgZ(183,"c-col",5),n._uU(184,"\n              "),n.TgZ(185,"label",31),n._uU(186,"Opening Date"),n.qZA(),n._uU(187,"\n              "),n.TgZ(188,"c-input-group",6),n._uU(189,"\n                "),n.TgZ(190,"span",32),n._uU(191,"\n                  "),n.O4$(),n._UZ(192,"svg",33),n._uU(193,"\n                "),n.qZA(),n._uU(194,"\n                "),n.kcU(),n._UZ(195,"input",34),n._uU(196,"\n                "),n.TgZ(197,"input",35),n.NdJ("bsValueChange",function(c){return e.onOpeningChanged(c)}),n.qZA(),n._uU(198,"\n                  "),n.YNc(199,mn,7,0,"div",36),n._uU(200,"\n              "),n.qZA(),n._uU(201,"\n            "),n.qZA(),n._uU(202,"\n            "),n.TgZ(203,"c-col",5),n._uU(204,"\n              "),n.TgZ(205,"label",37),n._uU(206,"Closing Date"),n.qZA(),n._uU(207,"\n              "),n.TgZ(208,"c-input-group",6),n._uU(209,"\n                "),n.TgZ(210,"span",32),n._uU(211,"\n                  "),n.O4$(),n._UZ(212,"svg",33),n._uU(213,"\n                "),n.qZA(),n._uU(214,"\n                "),n.kcU(),n._UZ(215,"input",38),n._uU(216,"\n                "),n.TgZ(217,"input",39),n.NdJ("bsValueChange",function(c){return e.onOpeningChanged(c)}),n.qZA(),n._uU(218,"\n                  "),n.YNc(219,Un,7,0,"div",36),n._uU(220,"\n              "),n.qZA(),n._uU(221,"\n            "),n.qZA(),n._uU(222,"\n          "),n.qZA(),n._uU(223,"\n          "),n.TgZ(224,"c-row"),n._uU(225,"\n            "),n.TgZ(226,"c-col",5),n._uU(227,"\n              "),n.TgZ(228,"div",6),n._uU(229,"\n                "),n.TgZ(230,"label",40),n._uU(231,"Geolocation Method"),n.qZA(),n._uU(232,"\n                "),n._UZ(233,"input",41),n._uU(234,"\n                  "),n.YNc(235,Zn,4,1,"div",12),n._uU(236,"\n              "),n.qZA(),n._uU(237,"\n            "),n.qZA(),n._uU(238,"\n            "),n.TgZ(239,"c-col",5),n._uU(240,"\n              "),n.TgZ(241,"div",6),n._uU(242,"\n                "),n.TgZ(243,"label",42),n._uU(244,"Geolocation Accuracy"),n.qZA(),n._uU(245,"\n                "),n._UZ(246,"input",43),n._uU(247,"\n                "),n.YNc(248,Tn,6,2,"div",9),n._uU(249,"\n              "),n.qZA(),n._uU(250,"\n            "),n.qZA(),n._uU(251,"\n          "),n.qZA(),n._uU(252,"\n          "),n.TgZ(253,"c-row"),n._uU(254,"\n            "),n.TgZ(255,"c-col",5),n._uU(256,"\n              "),n.TgZ(257,"div",6),n._uU(258,"\n                "),n.TgZ(259,"c-form-check",44),n._uU(260,"\n                  "),n._UZ(261,"input",45),n._uU(262,"\n                  "),n.TgZ(263,"label",46),n._uU(264,"Station Operational"),n.qZA(),n._uU(265,"\n                "),n.qZA(),n._uU(266,"\n              "),n.qZA(),n._uU(267,"\n            "),n.qZA(),n._uU(268,"\n            "),n.TgZ(269,"c-col",5),n._uU(270,"\n              "),n.TgZ(271,"div",6),n._uU(272,"\n                "),n.TgZ(273,"c-form-check",44),n._uU(274,"\n                  "),n._UZ(275,"input",47),n._uU(276,"\n                  "),n.TgZ(277,"label",46),n._uU(278,"WACA Selection"),n.qZA(),n._uU(279,"\n                "),n.qZA(),n._uU(280,"\n              "),n.qZA(),n._uU(281,"\n            "),n.qZA(),n._uU(282,"\n          "),n.qZA(),n._uU(283,"\n          "),n.TgZ(284,"c-row"),n._uU(285,"\n            "),n.TgZ(286,"c-col",5),n._uU(287,"\n              "),n.TgZ(288,"div",6),n._uU(289,"\n                "),n.TgZ(290,"c-form-check",44),n._uU(291,"\n                  "),n._UZ(292,"input",48),n._uU(293,"\n                  "),n.TgZ(294,"label",46),n._uU(295,"CPT Selection"),n.qZA(),n._uU(296,"\n                "),n.qZA(),n._uU(297,"\n              "),n.qZA(),n._uU(298,"\n            "),n.qZA(),n._uU(299,"\n          "),n.qZA(),n._uU(300,"\n          "),n.TgZ(301,"c-row",49),n._uU(302,"\n            "),n.TgZ(303,"c-col",0),n._uU(304,"\n              "),n.TgZ(305,"button",50),n._uU(306,"\n                "),n.YNc(307,qn,1,0,"c-spinner",51),n._uU(308," Submit "),n.qZA(),n._uU(309,"\n              "),n.TgZ(310,"button",52),n.NdJ("click",function(){return e.onReset()}),n._uU(311," Reset "),n.qZA(),n._uU(312,"\n              "),n.TgZ(313,"button",52),n.NdJ("click",function(){return e.onCancel()}),n._uU(314," Cancel "),n.qZA(),n._uU(315,"\n            "),n.qZA(),n._uU(316,"\n          "),n.qZA(),n._uU(317,"\n        "),n.qZA(),n._uU(318,"\n      "),n.qZA(),n._uU(319,"\n    "),n.qZA(),n._uU(320,"\n  "),n.qZA(),n._uU(321,"\n"),n.qZA()),2&t&&(n.xp6(9),n.hij("",e.isUpdate?"Update":"Add"," Station"),n.xp6(5),n.Q6J("ngIf",e.submitted&&e.form.invalid),n.xp6(2),n.Q6J("formGroup",e.form),n.xp6(4),n.Q6J("ngIf",!e.isUpdate),n.xp6(9),n.Q6J("ngClass",n.VKq(41,_,(e.submitted||e.f.station_name.touched)&&e.f.station_name.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.station_name.errors),n.xp6(14),n.Q6J("ngClass",n.VKq(43,_,(e.submitted||e.f.longitude.touched)&&e.f.longitude.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.longitude.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(45,_,(e.submitted||e.f.latitude.touched)&&e.f.latitude.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.latitude.errors),n.xp6(14),n.Q6J("ngClass",n.VKq(47,_,(e.submitted||e.f.elevation.touched)&&e.f.elevation.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.elevation.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(49,_,(e.submitted||e.f.wmoid.touched)&&e.f.wmoid.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.wmoid.errors),n.xp6(14),n.Q6J("ngClass",n.VKq(51,_,(e.submitted||e.f.icaoid.touched)&&e.f.icaoid.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.icaoid.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(53,_,(e.submitted||e.f.country.touched)&&e.f.country.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.country.errors),n.xp6(14),n.Q6J("ngClass",n.VKq(55,_,(e.submitted||e.f.authority.touched)&&e.f.authority.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.authority.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(57,_,(e.submitted||e.f.admin_region.touched)&&e.f.admin_region.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.admin_region.errors),n.xp6(14),n.Q6J("ngClass",n.VKq(59,_,(e.submitted||e.f.drainage_basin.touched)&&e.f.drainage_basin.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.drainage_basin.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(61,_,(e.submitted||e.f.qualifier.touched)&&e.f.qualifier.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.qualifier.errors),n.xp6(21),n.Q6J("ngClass",n.VKq(63,_,e.submitted&&e.f.opening_datetime.invalid))("bsConfig",e.bsConfig)("bsValue",e.bsEnd),n.xp6(2),n.Q6J("ngIf",e.submitted&&e.f.opening_datetime.invalid),n.xp6(18),n.Q6J("ngClass",n.VKq(65,_,e.submitted&&e.f.closing_datetime.invalid))("bsConfig",e.bsConfig)("bsValue",e.bsEnd)("minDate",e.minDate),n.xp6(2),n.Q6J("ngIf",e.submitted&&e.f.closing_datetime.invalid),n.xp6(14),n.Q6J("ngClass",n.VKq(67,_,(e.submitted||e.f.geolocation_method.touched)&&e.f.geolocation_method.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.geolocation_method.errors),n.xp6(11),n.Q6J("ngClass",n.VKq(69,_,(e.submitted||e.f.geolocation_accuracy.touched)&&e.f.geolocation_accuracy.invalid)),n.xp6(2),n.Q6J("ngIf",e.f.geolocation_accuracy.errors),n.xp6(53),n.Q6J("ngClass",n.VKq(71,An,!e.error)),n.xp6(6),n.Q6J("ngIf",e.loading))},directives:[s.iok,s.Yp0,s.AkF,s.nkx,s.yue,l.O5,u._Y,u.JL,s.$_X,u.sg,s.eFW,u.Fj,s.oHf,u.JJ,u.u,l.mk,s.g8K,s.jOm,T.ar,C.Y5,C.Np,s.FzQ,s.yfq,u.Wl,s.NWu,s.Hq3,s.wxo,s.ORR],styles:[""]}),o})();var Cn=r(2719),S=r(4437),bn=r(5261);function Sn(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",19))}function xn(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",20))}function wn(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",19))}function yn(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",20))}function Fn(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",19))}function In(o,i){1&o&&(n.O4$(),n._UZ(0,"svg",20))}const On=function(o){return["/stations",o]},Nn=function(o){return["/stations",o,"update"]};function Jn(o,i){if(1&o&&(n.TgZ(0,"tr"),n._uU(1,"\n            "),n.TgZ(2,"th",12),n._uU(3),n.qZA(),n._uU(4,"\n            "),n.TgZ(5,"td",10),n._uU(6),n.qZA(),n._uU(7,"\n            "),n.TgZ(8,"td",10),n._uU(9),n.qZA(),n._uU(10,"\n            "),n.TgZ(11,"td",10),n._uU(12),n.qZA(),n._uU(13,"\n            "),n.TgZ(14,"td",10),n._uU(15),n.qZA(),n._uU(16,"\n            "),n.TgZ(17,"td",10),n._uU(18,"\n              "),n.YNc(19,Sn,1,0,"svg",13),n._uU(20,"\n              "),n.YNc(21,xn,1,0,"svg",14),n._uU(22,"\n            "),n.qZA(),n._uU(23,"\n            "),n.TgZ(24,"td",10),n._uU(25,"\n              "),n.YNc(26,wn,1,0,"svg",13),n._uU(27,"\n              "),n.YNc(28,yn,1,0,"svg",14),n._uU(29,"\n            "),n.qZA(),n._uU(30,"\n            "),n.TgZ(31,"td",10),n._uU(32,"\n              "),n.YNc(33,Fn,1,0,"svg",13),n._uU(34,"\n              "),n.YNc(35,In,1,0,"svg",14),n._uU(36,"\n            "),n.qZA(),n._uU(37,"\n            "),n.TgZ(38,"td"),n._uU(39,"\n              "),n.TgZ(40,"button",15),n._uU(41,"\n                "),n.O4$(),n._UZ(42,"svg",16),n._uU(43,"\n              "),n.qZA(),n._uU(44,"\n              "),n.kcU(),n.TgZ(45,"button",17),n._uU(46,"\n                "),n.O4$(),n._UZ(47,"svg",18),n._uU(48,"\n              "),n.qZA(),n._uU(49,"\n            "),n.qZA(),n._uU(50,"\n          "),n.qZA()),2&o){const t=i.$implicit;n.xp6(3),n.Oqu(t.station_id),n.xp6(3),n.Oqu(t.station_name),n.xp6(3),n.Oqu(t.country),n.xp6(3),n.AsE("",t.latitude,", ",t.longitude,""),n.xp6(3),n.Oqu(t.elevation),n.xp6(4),n.Q6J("ngIf",t.station_operational),n.xp6(2),n.Q6J("ngIf",!t.station_operational),n.xp6(5),n.Q6J("ngIf",t.cpt_selection),n.xp6(2),n.Q6J("ngIf",!t.cpt_selection),n.xp6(5),n.Q6J("ngIf",t.waca_selection),n.xp6(2),n.Q6J("ngIf",!t.waca_selection),n.xp6(5),n.Q6J("routerLink",n.VKq(14,On,t.station_id)),n.xp6(5),n.Q6J("routerLink",n.VKq(16,Nn,t.station_id))}}function Qn(o,i){if(1&o){const t=n.EpF();n.O4$(),n.kcU(),n.TgZ(0,"c-card-body"),n._uU(1,"\n        "),n.TgZ(2,"app-paginator",8),n.NdJ("onPage",function(a){return n.CHM(t),n.oxw().onPage(a)}),n.qZA(),n._uU(3,"\n        "),n.TgZ(4,"table",9),n._uU(5,"\n          "),n.TgZ(6,"thead"),n._uU(7,"\n          "),n.TgZ(8,"tr"),n._uU(9,"\n            "),n.TgZ(10,"th",10),n._uU(11,"ID"),n.qZA(),n._uU(12,"\n            "),n.TgZ(13,"th",10),n._uU(14,"Name"),n.qZA(),n._uU(15,"\n            "),n.TgZ(16,"th",10),n._uU(17,"Country"),n.qZA(),n._uU(18,"\n            "),n.TgZ(19,"th",10),n._uU(20,"Location"),n.qZA(),n._uU(21,"\n            "),n.TgZ(22,"th",10),n._uU(23,"Elevation"),n.qZA(),n._uU(24,"\n            "),n.TgZ(25,"th",10),n._uU(26,"Operational"),n.qZA(),n._uU(27,"\n            "),n.TgZ(28,"th",10),n._uU(29,"CPT Selection"),n.qZA(),n._uU(30,"\n            "),n.TgZ(31,"th",10),n._uU(32,"WACA Selection"),n.qZA(),n._uU(33,"\n            "),n._UZ(34,"th"),n._uU(35,"\n          "),n.qZA(),n._uU(36,"\n          "),n.qZA(),n._uU(37,"\n          "),n.TgZ(38,"tbody"),n._uU(39,"\n          "),n.YNc(40,Jn,51,18,"tr",11),n._uU(41,"\n          "),n.qZA(),n._uU(42,"\n        "),n.qZA(),n._uU(43,"\n      "),n.qZA()}if(2&o){const t=i.$implicit,e=n.oxw();n.xp6(2),n.Q6J("limit",t.limit)("current",t.page)("pages",e.createPages(t.pages)),n.xp6(38),n.Q6J("ngForOf",t.stations)}}const Yn=function(){return["/stations","new"]};let kn=(()=>{class o{constructor(t,e){this.stationService=t,this.modalService=e,this.stations$=(0,m.of)({stations:[],limit:1,page:1,pages:1})}ngOnInit(){this.stations$=this.stationService.stations}remove(t){this.modalService.show(Cn.S,{initialState:{title:"Station Removal",message:"Operation cannot be undone. Are you sure you want to remove the station and its associated data?",confirm:"Go Ahead",cancel:"Cancel"}}).content.onClose.subscribe(c=>{c&&t.station_id&&this.stationService.removeStation(t.station_id)})}onPage(t){console.log(t),this.stationService.updateState(t)}createPages(t){return[...Array(t).keys()].map(e=>e+1)}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(h.v),n.Y36(S.tT))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-stations"]],decls:31,vars:5,consts:[["xs","12","lg","12","xl","12"],[1,"mb-4"],["xs","6"],[1,"col-6"],["xs","6",1,"text-end"],[1,"btn","btn-sm","cs-btn-sm","cs-btn-sm","btn-outline",3,"routerLink"],["cIcon","","name","cilPlus"],[4,"ngIf"],[3,"limit","current","pages","onPage"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],["cIcon","","name","cilCheck","class","text-success",4,"ngIf"],["cIcon","","name","cilXCircle","class","text-danger",4,"ngIf"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","View Station",3,"routerLink"],["cIcon","","name","cilArrowThickFromLeft","size","sm"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","Update Station",3,"routerLink"],["cIcon","","name","cilPencil","size","sm"],["cIcon","","name","cilCheck",1,"text-success"],["cIcon","","name","cilXCircle",1,"text-danger"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",0),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-header"),n._uU(7,"\n        "),n.TgZ(8,"c-row"),n._uU(9,"\n          "),n.TgZ(10,"c-col",2),n._uU(11,"\n            "),n.TgZ(12,"strong",3),n._uU(13,"Stations"),n.qZA(),n._uU(14,"\n          "),n.qZA(),n._uU(15,"\n          "),n.TgZ(16,"c-col",4),n._uU(17,"\n            "),n.TgZ(18,"a",5),n._uU(19," "),n.O4$(),n._UZ(20,"svg",6),n._uU(21," Add New "),n.qZA(),n._uU(22,"\n          "),n.qZA(),n._uU(23,"\n        "),n.qZA(),n._uU(24,"\n      "),n.qZA(),n._uU(25,"\n      "),n.YNc(26,Qn,44,4,"c-card-body",7),n.ALo(27,"async"),n._uU(28,"\n    "),n.qZA(),n._uU(29,"\n  "),n.qZA(),n._uU(30,"\n"),n.qZA()),2&t&&(n.xp6(18),n.Q6J("routerLink",n.DdM(4,Yn)),n.xp6(8),n.Q6J("ngIf",n.lcZ(27,2,e.stations$)))},directives:[s.iok,s.Yp0,s.AkF,s.nkx,g.yS,T.ar,l.O5,s.yue,bn.J,s.auY,l.sg,s.Hq3,s.i9q,g.rH],pipes:[l.Ov],styles:[""]}),o})();var Pn=r(9791),Mn=r(2350),x=r(2720),w=r(2021),$n=r(2098),y=r(4182),F=r(2702),I=r(4847),Ln=r(7909),En=r(571),Vn=r(1109),Rn=r(4379),Hn=r(1769),Dn=r(6535);function zn(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-col",3),n._uU(1,"\n    "),n.TgZ(2,"div",4),n.NdJ("click",function(){const c=n.CHM(t).$implicit;return n.oxw().selectEl(c)}),n._uU(3,"\n      "),n.TgZ(4,"div",5),n._uU(5,"\n        "),n.TgZ(6,"div",6),n._uU(7,"\n          "),n._UZ(8,"i"),n._uU(9,"\n        "),n.qZA(),n._uU(10,"\n      "),n.qZA(),n._uU(11,"\n      "),n.TgZ(12,"div",7),n._uU(13),n.qZA(),n._uU(14,"\n    "),n.qZA(),n._uU(15,"\n  "),n.qZA()}if(2&o){const t=i.$implicit,e=n.oxw();n.xp6(8),n.Gre("wi ",e.getIcon(t.obs_element.abbreviation)," wi-2x"),n.xp6(5),n.hij(" ",t.obs_element.abbreviation," ")}}function Kn(o,i){1&o&&(n.TgZ(0,"c-alert",8),n._uU(1," "),n.TgZ(2,"strong"),n._uU(3,"Info!"),n.qZA(),n._uU(4," No station elements associated with this station."),n.qZA())}let Bn=(()=>{class o{constructor(t){this.wiIcons=t,this.source=(0,m.of)({elements:[],page:1,pages:1,limit:25}),this.onSelect=new n.vpe}ngOnInit(){}ngOnChanges(t){this.source.subscribe(e=>{console.log(e),this.elements=e.elements})}getIcon(t){return this.wiIcons.getIcon(t)}selectEl(t){this.onSelect.emit(Object.assign({},t))}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(Dn.j))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station-elements"]],inputs:{source:"source"},outputs:{onSelect:"onSelect"},features:[n.TTD],decls:9,vars:2,consts:[["xs","6","sm","4","md","3","lg","2","xl","1","class","p-1",4,"ngFor","ngForOf"],["xs","12"],["color","info",4,"ngIf"],["xs","6","sm","4","md","3","lg","2","xl","1",1,"p-1"],[1,"el",3,"click"],[1,"el-icon"],[1,"icon-wrap"],[1,"el-body"],["color","info"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.YNc(2,zn,16,4,"c-col",0),n._uU(3,"\n  "),n.TgZ(4,"c-col",1),n._uU(5,"\n    "),n.YNc(6,Kn,5,0,"c-alert",2),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n"),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngForOf",e.elements),n.xp6(4),n.Q6J("ngIf",!(null!=e.elements&&e.elements.length)))},directives:[s.iok,l.sg,s.Yp0,l.O5,s.wxo],styles:[".el[_ngcontent-%COMP%]{padding:0;cursor:pointer;transition:box-shadow .3s}.el[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133}.el[_ngcontent-%COMP%]:hover   .icon-wrap[_ngcontent-%COMP%]{background-color:#54668b;border-color:#39f}.el-icon[_ngcontent-%COMP%]{padding:.3rem;width:100%;text-align:center}.el-icon[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]{width:50px;padding:.55rem 0;margin:0 auto;border-radius:50%;background-color:#475778;border:2px solid #475778}.el-icon[_ngcontent-%COMP%]   .icon-wrap[_ngcontent-%COMP%]   .wi[_ngcontent-%COMP%]{color:#fff}.el-body[_ngcontent-%COMP%]{text-align:center;font-size:.8rem}"]}),o})();var Gn=r(8683);function jn(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-col",3),n._uU(1,"\n    "),n.TgZ(2,"div",4),n.NdJ("click",function(){const c=n.CHM(t).$implicit;return n.oxw().selectQualifier(c)}),n._uU(3,"\n      "),n.TgZ(4,"div",5),n._uU(5,"\n        "),n.TgZ(6,"div",6),n._uU(7,"\n          "),n._UZ(8,"img",7),n._uU(9,"\n        "),n.qZA(),n._uU(10,"\n      "),n.qZA(),n._uU(11,"\n      "),n.TgZ(12,"div",8),n._uU(13),n.qZA(),n._uU(14,"\n      "),n.TgZ(15,"div",8),n._uU(16," "),n.TgZ(17,"small"),n._uU(18),n.qZA(),n._uU(19," "),n.qZA(),n._uU(20,"\n    "),n.qZA(),n._uU(21,"\n  "),n.qZA()}if(2&o){const t=i.$implicit;n.xp6(4),n.Q6J("cTooltip",t.qualifier),n.xp6(9),n.hij(" ",t.qualifier," "),n.xp6(5),n.Oqu(t.station_network_type)}}function Xn(o,i){1&o&&(n.TgZ(0,"c-alert",9),n._uU(1," "),n.TgZ(2,"strong"),n._uU(3,"Info!"),n.qZA(),n._uU(4," No qualifiers associated with this station."),n.qZA())}let Wn=(()=>{class o{constructor(){this.source=(0,m.of)({qualifiers:[],page:1,pages:1,limit:25}),this.onSelect=new n.vpe}ngOnInit(){}ngOnChanges(t){this.source.subscribe(e=>{console.log(e),this.qualifiers=e.qualifiers})}selectQualifier(t){this.onSelect.emit(Object.assign({},t))}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station-qualifiers"]],inputs:{source:"source"},outputs:{onSelect:"onSelect"},features:[n.TTD],decls:9,vars:2,consts:[["md","12","class","qualifiers","xs","6","sm","6","md","4","lg","3","xl","3","class","p-1",4,"ngFor","ngForOf"],[1,"no-records"],["color","info",4,"ngIf"],["md","12","xs","6","sm","6","md","4","lg","3","xl","3",1,"p-1"],[1,"qual",3,"click"],[1,"qual-icon",3,"cTooltip"],[1,"qual-icon-wrap"],["src","./assets/img/icons/tag.png","alt",""],[1,"qual-label"],["color","info"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.YNc(2,jn,22,3,"c-col",0),n._uU(3,"\n  "),n.TgZ(4,"c-col",1),n._uU(5,"\n    "),n.YNc(6,Xn,5,0,"c-alert",2),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n"),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngForOf",e.qualifiers),n.xp6(4),n.Q6J("ngIf",!(null!=e.qualifiers&&e.qualifiers.length)))},directives:[s.iok,l.sg,s.Yp0,l.O5,s.i9q,s.wxo],styles:[".qual[_ngcontent-%COMP%]{padding:0;cursor:pointer;transition:box-shadow .3s}.qual[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133}.qual[_ngcontent-%COMP%]:hover   .icon-wrap[_ngcontent-%COMP%]{background-color:#54668b;border-color:#39f}.qual-icon[_ngcontent-%COMP%]{padding:.3rem;width:100%;text-align:center}.qual-icon-wrap[_ngcontent-%COMP%]{margin:0 auto;padding:.6rem .5rem;width:70px;border:1px solid #e65754;border-radius:35px}.qual-icon-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:50px}.qual-label[_ngcontent-%COMP%]{text-align:center;font-size:.85rem}"]}),o})();function nt(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-col",3),n._uU(1,"\n    "),n.TgZ(2,"div",4),n.NdJ("click",function(){const c=n.CHM(t).$implicit;return n.oxw().viewFeature(c)}),n._uU(3,"\n      "),n.TgZ(4,"div",5),n._uU(5),n.qZA(),n._uU(6,"\n      "),n.TgZ(7,"div",6),n._uU(8,"\n        "),n.TgZ(9,"div",7),n._uU(10,"\n          "),n._UZ(11,"img",8),n._uU(12,"\n        "),n.qZA(),n._uU(13,"\n      "),n.qZA(),n._uU(14,"\n      "),n.TgZ(15,"div",9),n._uU(16),n.qZA(),n._uU(17,"\n    "),n.qZA(),n._uU(18,"\n  "),n.qZA()}if(2&o){const t=i.$implicit;n.xp6(5),n.hij("\n        ",t.admin_region,"\n      "),n.xp6(11),n.Oqu(t.classified_into)}}function tt(o,i){1&o&&(n.TgZ(0,"c-alert",10),n._uU(1," "),n.TgZ(2,"strong"),n._uU(3,"Info!"),n.qZA(),n._uU(4," No station physical features available."),n.qZA())}let ot=(()=>{class o{constructor(){this.source=(0,m.of)({features:[],page:1,pages:1,limit:25}),this.onSelect=new n.vpe}ngOnInit(){}ngOnChanges(t){this.source.subscribe(e=>{this.items=e.features})}viewFeature(t){this.onSelect.emit(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station-physical-features"]],inputs:{source:"source"},outputs:{onSelect:"onSelect"},features:[n.TTD],decls:9,vars:2,consts:[["xs","6","sm","4","md","3","lg","2","xl","2","class","p-1",4,"ngFor","ngForOf"],["xs","12"],["color","info",4,"ngIf"],["xs","6","sm","4","md","3","lg","2","xl","2",1,"p-1"],[1,"loc",3,"click"],[1,"loc-head"],[1,"loc-icon"],[1,"loc-icon-wrap"],["src","./assets/img/icons/terrain.png","alt",""],[1,"loc-label"],["color","info"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.YNc(2,nt,19,2,"c-col",0),n._uU(3,"\n  "),n.TgZ(4,"c-col",1),n._uU(5,"\n    "),n.YNc(6,tt,5,0,"c-alert",2),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n"),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngForOf",e.items),n.xp6(4),n.Q6J("ngIf",!(null!=e.items&&e.items.length)))},directives:[s.iok,l.sg,s.Yp0,l.O5,s.wxo],styles:[".loc[_ngcontent-%COMP%]{padding:0;cursor:pointer;transition:box-shadow .3s}.loc[_ngcontent-%COMP%]:hover{box-shadow:0 0 11px #21212133}.loc[_ngcontent-%COMP%]:hover   .icon-wrap[_ngcontent-%COMP%]{background-color:#54668b;border-color:#39f}.loc-icon[_ngcontent-%COMP%]{padding:.3rem;width:100%;text-align:center}.loc-icon-wrap[_ngcontent-%COMP%]{margin:0 auto;padding:.6rem .5rem;width:70px;border:1px solid #286422}.loc-icon-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;width:50px}.loc-label[_ngcontent-%COMP%]{text-align:center;font-size:.85rem}"]}),o})();function et(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-col",3),n._uU(1,"\n    "),n.TgZ(2,"div",4),n.NdJ("click",function(){const c=n.CHM(t).$implicit;return n.oxw().selectArch(c)}),n._uU(3,"\n      "),n.TgZ(4,"div",5),n._uU(5),n.qZA(),n._uU(6,"\n      "),n.TgZ(7,"div",6),n._uU(8,"\n        "),n.TgZ(9,"div",7),n._uU(10,"\n          "),n._UZ(11,"img",8),n._uU(12,"\n        "),n.qZA(),n._uU(13,"\n      "),n.qZA(),n._uU(14,"\n      "),n.TgZ(15,"div",9),n._uU(16),n.qZA(),n._uU(17,"\n    "),n.qZA(),n._uU(18,"\n  "),n.qZA()}if(2&o){const t=i.$implicit;n.xp6(5),n.hij("\n        ",t.admin_region,"\n      "),n.xp6(11),n.Oqu(t.classified_into)}}function it(o,i){1&o&&(n.TgZ(0,"c-alert",10),n._uU(1," "),n.TgZ(2,"strong"),n._uU(3,"Info!"),n.qZA(),n._uU(4," No station paper archives found."),n.qZA())}let at=(()=>{class o{constructor(){this.source=(0,m.of)({archives:[],page:1,pages:1,limit:25}),this.onSelect=new n.vpe}ngOnInit(){}ngOnChanges(t){this.source.subscribe(e=>{console.log(e),this.items=e.archives})}selectArch(t){this.onSelect.emit(t)}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station-paper-archive"]],inputs:{source:"source"},outputs:{onSelect:"onSelect"},features:[n.TTD],decls:9,vars:2,consts:[["xs","6","sm","4","md","3","lg","3","xl","2","class","p-1",4,"ngFor","ngForOf"],["xs","12"],["color","info",4,"ngIf"],["xs","6","sm","4","md","3","lg","3","xl","2",1,"p-1"],[1,"archive",3,"click"],[1,"archive-head"],[1,"archive-icon"],[1,"archive-icon-wrap"],["src","./assets/img/icons/paper_archive.png","alt",""],[1,"archive-body"],["color","info"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.YNc(2,et,19,2,"c-col",0),n._uU(3,"\n  "),n.TgZ(4,"c-col",1),n._uU(5,"\n    "),n.YNc(6,it,5,0,"c-alert",2),n._uU(7,"\n  "),n.qZA(),n._uU(8,"\n"),n.qZA()),2&t&&(n.xp6(2),n.Q6J("ngForOf",e.items),n.xp6(4),n.Q6J("ngIf",!(null!=e.items&&e.items.length)))},directives:[s.iok,l.sg,s.Yp0,l.O5,s.wxo],styles:[".archive[_ngcontent-%COMP%]{padding:0 .2rem;cursor:pointer}.archive-icon-wrap[_ngcontent-%COMP%]{text-align:center}.archive-icon-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}.archive-body[_ngcontent-%COMP%]{text-align:center}"]}),o})();function ct(o,i){1&o&&n._UZ(0,"app-infinite-loading")}function st(o,i){if(1&o&&(n.TgZ(0,"c-col",10),n._uU(1,"\n            "),n._UZ(2,"app-info-block",11),n._uU(3,"\n          "),n.qZA()),2&o){const t=i.$implicit;n.xp6(2),n.Q6J("config",t)}}function rt(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",12),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-body"),n._uU(7,"\n        "),n.TgZ(8,"c-row"),n._uU(9,"\n          "),n.TgZ(10,"c-col",3),n._uU(11,"\n            "),n.TgZ(12,"h5"),n._uU(13,"Elements"),n.qZA(),n._uU(14,"\n          "),n.qZA(),n._uU(15,"\n          "),n.TgZ(16,"c-col",5),n._uU(17,"\n            "),n.TgZ(18,"button",13),n.NdJ("click",function(){return n.CHM(t),n.oxw().addElement()}),n._uU(19,"\n              "),n.O4$(),n._UZ(20,"svg",14),n._uU(21,"\n            "),n.qZA(),n._uU(22,"\n          "),n.qZA(),n._uU(23,"\n        "),n.qZA(),n._uU(24,"\n        "),n.kcU(),n.TgZ(25,"c-row",8),n._uU(26,"\n          "),n.TgZ(27,"c-col",0),n._uU(28,"\n            "),n.TgZ(29,"app-station-elements",15),n.NdJ("onSelect",function(a){return n.CHM(t),n.oxw().updateElement(a)}),n.qZA(),n._uU(30,"\n          "),n.qZA(),n._uU(31,"\n        "),n.qZA(),n._uU(32,"\n      "),n.qZA(),n._uU(33,"\n    "),n.qZA(),n._uU(34,"\n  "),n.qZA(),n._uU(35,"\n"),n.qZA()}if(2&o){const t=n.oxw();n.xp6(29),n.Q6J("source",t.elements)}}function ut(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",16),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-body"),n._uU(7,"\n        "),n.TgZ(8,"c-row"),n._uU(9,"\n          "),n.TgZ(10,"c-col",3),n._uU(11,"\n            "),n.TgZ(12,"h5"),n._uU(13,"Location History"),n.qZA(),n._uU(14,"\n          "),n.qZA(),n._uU(15,"\n          "),n.TgZ(16,"c-col",5),n._uU(17,"\n            "),n.TgZ(18,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().addLocHistory()}),n._uU(19,"\n              "),n.O4$(),n._UZ(20,"svg",14),n._uU(21,"\n            "),n.qZA(),n._uU(22,"\n          "),n.qZA(),n._uU(23,"\n        "),n.qZA(),n._uU(24,"\n        "),n.kcU(),n.TgZ(25,"c-row",18),n._uU(26,"\n          "),n.TgZ(27,"c-col",0),n._uU(28,"\n            "),n.TgZ(29,"app-location-history",15),n.NdJ("onSelect",function(a){return n.CHM(t),n.oxw().editLocHistory(a)}),n.qZA(),n._uU(30,"\n          "),n.qZA(),n._uU(31,"\n        "),n.qZA(),n._uU(32,"\n      "),n.qZA(),n._uU(33,"\n    "),n.qZA(),n._uU(34,"\n  "),n.qZA(),n._uU(35,"\n  "),n.TgZ(36,"c-col",16),n._uU(37,"\n    "),n.TgZ(38,"c-card",1),n._uU(39,"\n      "),n.TgZ(40,"c-card-body"),n._uU(41,"\n        "),n.TgZ(42,"c-row"),n._uU(43,"\n          "),n.TgZ(44,"c-col",3),n._uU(45,"\n            "),n.TgZ(46,"h5"),n._uU(47,"Qualifiers"),n.qZA(),n._uU(48,"\n          "),n.qZA(),n._uU(49,"\n          "),n.TgZ(50,"c-col",5),n._uU(51,"\n            "),n.TgZ(52,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().addQualifier()}),n._uU(53,"\n              "),n.O4$(),n._UZ(54,"svg",14),n._uU(55,"\n            "),n.qZA(),n._uU(56,"\n          "),n.qZA(),n._uU(57,"\n        "),n.qZA(),n._uU(58,"\n        "),n.kcU(),n.TgZ(59,"c-row",18),n._uU(60,"\n          "),n.TgZ(61,"c-col",0),n._uU(62,"\n            "),n.TgZ(63,"app-station-qualifiers",15),n.NdJ("onSelect",function(a){return n.CHM(t),n.oxw().editQualifier(a)}),n.qZA(),n._uU(64,"\n          "),n.qZA(),n._uU(65,"\n        "),n.qZA(),n._uU(66,"\n      "),n.qZA(),n._uU(67,"\n    "),n.qZA(),n._uU(68,"\n  "),n.qZA(),n._uU(69,"\n"),n.qZA()}if(2&o){const t=n.oxw();n.xp6(29),n.Q6J("source",t.history),n.xp6(34),n.Q6J("source",t.qualifiers)}}function lt(o,i){if(1&o){const t=n.EpF();n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",16),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-body"),n._uU(7,"\n        "),n.TgZ(8,"c-row"),n._uU(9,"\n          "),n.TgZ(10,"c-col",3),n._uU(11,"\n            "),n.TgZ(12,"h5"),n._uU(13,"Physical Features"),n.qZA(),n._uU(14,"\n          "),n.qZA(),n._uU(15,"\n          "),n.TgZ(16,"c-col",5),n._uU(17,"\n            "),n.TgZ(18,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().addPhysicalFeature()}),n._uU(19,"\n              "),n.O4$(),n._UZ(20,"svg",14),n._uU(21,"\n            "),n.qZA(),n._uU(22,"\n          "),n.qZA(),n._uU(23,"\n        "),n.qZA(),n._uU(24,"\n        "),n.kcU(),n.TgZ(25,"c-row",18),n._uU(26,"\n          "),n.TgZ(27,"c-col",0),n._uU(28,"\n            "),n.TgZ(29,"app-station-physical-features",15),n.NdJ("onSelect",function(a){return n.CHM(t),n.oxw().viewPhysicalFeature(a)}),n.qZA(),n._uU(30,"\n          "),n.qZA(),n._uU(31,"\n        "),n.qZA(),n._uU(32,"\n      "),n.qZA(),n._uU(33,"\n    "),n.qZA(),n._uU(34,"\n  "),n.qZA(),n._uU(35,"\n\n  "),n.TgZ(36,"c-col",16),n._uU(37,"\n    "),n.TgZ(38,"c-card",1),n._uU(39,"\n      "),n.TgZ(40,"c-card-body"),n._uU(41,"\n        "),n.TgZ(42,"c-row"),n._uU(43,"\n          "),n.TgZ(44,"c-col",3),n._uU(45,"\n            "),n.TgZ(46,"h5"),n._uU(47,"Paper Archives"),n.qZA(),n._uU(48,"\n          "),n.qZA(),n._uU(49,"\n          "),n.TgZ(50,"c-col",5),n._uU(51,"\n            "),n.TgZ(52,"button",17),n.NdJ("click",function(){return n.CHM(t),n.oxw().addPaperArchive()}),n._uU(53,"\n              "),n.O4$(),n._UZ(54,"svg",14),n._uU(55,"\n            "),n.qZA(),n._uU(56,"\n          "),n.qZA(),n._uU(57,"\n        "),n.qZA(),n._uU(58,"\n        "),n.kcU(),n.TgZ(59,"c-row",18),n._uU(60,"\n          "),n.TgZ(61,"c-col",0),n._uU(62,"\n            "),n.TgZ(63,"app-station-paper-archive",15),n.NdJ("onSelect",function(a){return n.CHM(t),n.oxw().viewPaperArchive(a)}),n.qZA(),n._uU(64,"\n          "),n.qZA(),n._uU(65,"\n        "),n.qZA(),n._uU(66,"\n      "),n.qZA(),n._uU(67,"\n    "),n.qZA(),n._uU(68,"\n  "),n.qZA(),n._uU(69,"\n"),n.qZA()}if(2&o){const t=n.oxw();n.xp6(29),n.Q6J("source",t.physicalFeatures),n.xp6(34),n.Q6J("source",t.paperArchives)}}const _t=function(){return["update"]},gt=[{path:"",component:kn,data:{title:"Stations"}},{path:"new",component:b,canDeactivate:[J.C],data:{title:"New Station",update:!1}},{path:":id/update",component:b,data:{title:"Update Station",update:!0}},{path:":id",component:(()=>{class o{constructor(t,e,a,c,d,Z,O){this.router=t,this.route=e,this.modalService=a,this.stationService=c,this.qualiferService=d,this.physFeatureService=Z,this.archiveService=O,this.loading=!0}ngOnInit(){this.route.params.pipe((0,v.w)(t=>(this.id=t.id,this.stationService.getStation(t.id)))).pipe((0,U.h)(t=>t.result&&t.result[0]),(0,f.b)(t=>{this.raw=t.result[0],this.stationName=t.result[0].station_name}),(0,p.U)(t=>this.stationService.adapt(t.result[0])),(0,A.q)(1)).subscribe(t=>{this.station=t,this.loadElements(),this.loadLocationHist(),this.loadQualifiers(),this.loadPhysicalFeatures(),this.loadPaperArchive()})}edit(){this.router.navigateByUrl(`/station/${this.id}/update`)}addElement(){this.modalService.show(I.a,{initialState:{fromStation:this.raw},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(a=>{a&&this.stationService.addStationElement(a).subscribe(c=>{this.loadElements()})})}updateElement(t){console.log(t),this.modalService.show(I.a,{initialState:{stationElement:t},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(c=>{c&&this.stationService.updateStationElement({recorded_from:this.id,described_by:t.described_by,recoded_with:t.recorded_with,begin_date:t.begin_date},c).subscribe(()=>{this.loadElements()})})}addLocHistory(){this.modalService.show(F.d,{initialState:{fromStation:this.id},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(a=>{a&&this.stationService.addStationLocHistory(a).pipe((0,U.h)(c=>c.result.length)).subscribe(c=>{this.loadLocationHist()})})}editLocHistory(t){const e={initialState:{historyItem:t},class:"modal-lg",backdrop:"static",keyboard:!1},{belongs_to:a,opening_datetime:c}=t;this.modalService.show(F.d,e).content.onClose.subscribe(Z=>{Z&&this.stationService.updateStationLocHistory(a,c,Z).subscribe(O=>this.loadLocationHist())})}addQualifier(){this.modalService.show(y.m,{initialState:{qualifier:void 0,fromStation:this.raw},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(a=>{a&&this.qualiferService.addQualifier(a).subscribe(()=>{this.loadQualifiers()})})}editQualifier(t){this.modalService.show(y.m,{initialState:{qualifier:t},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(c=>{c&&this.qualiferService.updateQualifier(c).subscribe()})}addPhysicalFeature(){const e=this.modalService.show(w.G,{initialState:{feature:void 0,fromStation:this.id},class:"modal-lg",backdrop:"static",keyboard:!1});e.content.onClose.subscribe(a=>{a&&this.physFeatureService.addFeature(a).pipe((0,$n.g)(500)).subscribe(()=>{e.hide(),this.loadPhysicalFeatures()})})}editPhysicalFeature(t){this.modalService.show(w.G,{initialState:{feature:t},class:"modal-lg",backdrop:"static",keyboard:!1}).content.onClose.subscribe(c=>{c&&this.physFeatureService.updateFeature(t,c).subscribe()})}viewPhysicalFeature(t){this.modalService.show(Pn.G,{initialState:{feature:t},class:"modal-xl"}).content.onClose.subscribe(c=>{c.action&&"UPDATE_FEATURE"===c.action&&this.editPhysicalFeature(t)})}addPaperArchive(){this.modalService.show(x.i,{initialState:{archive:void 0,fromStation:this.raw},class:"modal-sm",backdrop:"static",keyboard:!1}).content.onClose.subscribe(a=>{a&&this.archiveService.addArchive(a).subscribe(()=>{this.loadPaperArchive()})})}viewPaperArchive(t){this.modalService.show(Mn.N,{initialState:{archive:t},class:"modal-xl"}).content.onClose.subscribe(c=>{c.action&&"UPDATE_ARCHIVE"===c.action&&console.log("Update Archive to be implemented here")})}editPaperArchive(t){this.modalService.show(x.i,{initialState:{archive:t},class:"modal-sm",backdrop:"static",keyboard:!1}).content.onClose.subscribe(c=>{c&&this.archiveService.updateArchive(t,c).subscribe()})}loadElements(){this.elements=this.stationService.getStationElements(this.id).pipe((0,p.U)(t=>({elements:t.result,page:t.page,pages:t.pages,limit:t.limit})))}loadLocationHist(){this.history=this.stationService.getStationLocHistory(this.id).pipe((0,p.U)(t=>({history:t.result,page:t.page,pages:t.pages,limit:t.limit})))}loadQualifiers(){this.qualifiers=this.stationService.getStationQualifiers(this.id).pipe((0,p.U)(t=>({qualifiers:t.result,page:t.page,pages:t.pages,limit:t.limit})))}loadPhysicalFeatures(){this.physicalFeatures=this.physFeatureService.getByStation(this.id).pipe((0,p.U)(t=>({features:t.result,page:t.page,pages:t.pages,limit:t.limit})))}loadPaperArchive(){this.paperArchives=this.archiveService.getStationArchives(this.id).pipe((0,p.U)(t=>({archives:t.result,page:t.page,pages:t.pages,limit:t.limit})),(0,f.b)(()=>{this.loading=!1}))}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(g.F0),n.Y36(g.gz),n.Y36(S.tT),n.Y36(h.v),n.Y36(Ln.Q),n.Y36(En.q),n.Y36(Vn.f))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-station"]],decls:43,vars:8,consts:[["xs","12"],[1,"mb-4"],[4,"ngIf"],["xs","10"],["src","./assets/img/icons/station_icon.png","width","40","alt",""],["xs","2",1,"text-end"],["cButton","","size","sm","color","warning","shape","rounded-pill","cTooltip","Add Element",3,"routerLink"],["cIcon","","name","cilPencil","size","sm"],[1,"mt-3"],["xs","12","sm","6","lg","4","xl","3",4,"ngFor","ngForOf"],["xs","12","sm","6","lg","4","xl","3"],[3,"config"],["md","12"],["cButton","","size","sm","color","warning","shape","rounded-pill","cTooltip","Add Element",3,"click"],["cIcon","","name","cilPlus","size","sm"],[3,"source","onSelect"],["xs","12","lg","12","xl","6"],["cButton","","size","sm","color","warning","shape","rounded-pill","cTooltip","Add Location History",3,"click"],[1,"mt-3","mh-12"]],template:function(t,e){1&t&&(n.TgZ(0,"c-row"),n._uU(1,"\n  "),n.TgZ(2,"c-col",0),n._uU(3,"\n    "),n.TgZ(4,"c-card",1),n._uU(5,"\n      "),n.TgZ(6,"c-card-body"),n._uU(7,"\n        "),n.TgZ(8,"c-row"),n._uU(9,"\n          "),n.TgZ(10,"c-col",0),n._uU(11,"\n            "),n.YNc(12,ct,1,0,"app-infinite-loading",2),n._uU(13,"\n          "),n.qZA(),n._uU(14,"\n          "),n.TgZ(15,"c-col",3),n._uU(16,"\n            "),n.TgZ(17,"h4"),n._uU(18," "),n._UZ(19,"img",4),n._uU(20),n.qZA(),n._uU(21,"\n          "),n.qZA(),n._uU(22,"\n          "),n.TgZ(23,"c-col",5),n._uU(24,"\n            "),n.TgZ(25,"a",6),n._uU(26,"\n              "),n.O4$(),n._UZ(27,"svg",7),n._uU(28,"\n          "),n.qZA(),n._uU(29,"\n          "),n.qZA(),n._uU(30,"\n        "),n.qZA(),n._uU(31,"\n        "),n.kcU(),n.TgZ(32,"c-row",8),n._uU(33,"\n          "),n.YNc(34,st,4,1,"c-col",9),n._uU(35,"\n        "),n.qZA(),n._uU(36,"\n      "),n.qZA(),n._uU(37,"\n    "),n.qZA(),n._uU(38,"\n  "),n.qZA(),n._uU(39,"\n"),n.qZA(),n.YNc(40,rt,36,1,"c-row",2),n.YNc(41,ut,70,2,"c-row",2),n.YNc(42,lt,70,2,"c-row",2)),2&t&&(n.xp6(12),n.Q6J("ngIf",e.loading),n.xp6(8),n.hij(" ",e.stationName,""),n.xp6(5),n.Q6J("routerLink",n.DdM(7,_t)),n.xp6(9),n.Q6J("ngForOf",e.station),n.xp6(6),n.Q6J("ngIf",e.station),n.xp6(1),n.Q6J("ngIf",e.station),n.xp6(1),n.Q6J("ngIf",e.station))},directives:[s.iok,s.Yp0,s.AkF,s.yue,l.O5,g.yS,s.Hq3,s.i9q,T.ar,l.sg,Rn.$,Hn.t,Bn,Gn.e,Wn,ot,at],styles:[""]}),o})(),data:{title:"Station"}}];let pt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[g.Bz.forChild(gt)],g.Bz]}),o})(),mt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[[l.ez,pt,N.m]]}),o})()}}]);