"use strict";(self.webpackChunkclimsoft_app=self.webpackChunkclimsoft_app||[]).push([[323],{4185:(b,S,a)=>{a.r(S),a.d(S,{LocationHistoryModule:()=>B});var e=a(9461),T=a(9291),E=a(1147),A=a(6803),t=a(5e3);let m=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-location-history-form"]],decls:2,vars:0,template:function(o,r){1&o&&(t.TgZ(0,"p"),t._uU(1,"location-history-form works!"),t.qZA())},styles:[""]}),s})();var M=a(9646),d=a(9300),v=a(4526),n=a(3164),i=a(703),l=a(1134),p=a(1135),h=a(262),C=a(8505),L=a(4691);const O="climsoft/v1/station-location-histories";let y=(()=>{class s{constructor(o){this.http=o,this.histories$=new p.X({locationHistories:[],limit:10,page:1,pages:1}),this.init=!1;const r=this.histories$.getValue();this.getLocHistories(r.page,r.limit)}get histories(){return this.histories$.asObservable()}adapt(o){const r={belongs_to:"Belongs To",station_type:"Station Type",geolocation_method:"Geolocation Method",geolocation_accuracy:"Geolocation Accuracy",opening_datetime:"Opening",closing_datetime:"Closing",latitude:"Latitude",longitude:"Longitude",elevation:"Elevation",authority:"Authority",admin_region:"Height",drainage_basin:"Drainage Basin"};let _=[];return Object.keys(o).filter(c=>-1===["opening_datetime","closing_datetime"].indexOf(c)).forEach(c=>{const U={};switch(U.key=r[c],U.value=o[c]||"No Value",c){case"opening_datetime":case"closing_datetime":U.type="date";break;default:U.type=null}_.push(U)}),_}updateState(o){if(o.page){const r=this.histories$.getValue().limit;this.getLocHistories(o.page,r)}o.limit&&this.getLocHistories(1,o.limit)}getLocHistories(o,r){console.log(o,r),this.http.GET(`${O}?limit=${r}&offset=${(o-1)*r}`).subscribe(c=>{console.log(c),this.histories$.next({locationHistories:c.result,limit:r,page:c.page,pages:c.pages}),this.init=!0})}getLocHistory(o){return this.http.GET(`${O}/${o}`)}addNew(o){return this.http.POST(`${O}`,o)}update(o,r,_){return this.http.PUT(`${O}/${o}/${r}`,_).pipe((0,h.K)(c=>{throw new Error(c.error.message)}),(0,C.b)(c=>{console.log(c);const U=this.histories$.getValue(),{page:H,limit:J}=U;this.getLocHistories(H,J)}))}remove(o,r){return this.http.DELETE(`${O}/${o}/${r}`).pipe((0,h.K)(_=>{throw new Error(_.error.message)}),(0,C.b)(_=>{console.log(_);const c=this.histories$.getValue(),{page:U,limit:H}=c;this.getLocHistories(U,H)}))}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(L.O))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var u=a(963),P=a(1728),g=a(9808),f=a(5683);function $(s,Z){if(1&s){const o=t.EpF();t.TgZ(0,"tr"),t._uU(1,"\n            "),t.TgZ(2,"th",13),t._uU(3),t.qZA(),t._uU(4,"\n            "),t.TgZ(5,"td",10),t._uU(6),t.qZA(),t._uU(7,"\n            "),t.TgZ(8,"td",10),t._uU(9),t.qZA(),t._uU(10,"\n            "),t.TgZ(11,"td",10),t._uU(12),t.qZA(),t._uU(13,"\n            "),t.TgZ(14,"td",10),t._uU(15),t.qZA(),t._uU(16,"\n            "),t.TgZ(17,"td",10),t._uU(18),t.ALo(19,"date"),t.qZA(),t._uU(20,"\n            "),t.TgZ(21,"td",10),t._uU(22),t.ALo(23,"date"),t.qZA(),t._uU(24,"\n            "),t.TgZ(25,"td",10),t._uU(26),t.qZA(),t._uU(27,"\n            "),t.TgZ(28,"td",10),t._uU(29),t.qZA(),t._uU(30,"\n            "),t.TgZ(31,"td",10),t._uU(32),t.qZA(),t._uU(33,"\n            "),t.TgZ(34,"td"),t._uU(35,"\n              "),t.TgZ(36,"button",14),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw(2).viewLocHist(c)}),t._uU(37,"\n                "),t.O4$(),t._UZ(38,"svg",15),t._uU(39,"\n              "),t.qZA(),t._uU(40,"\n              "),t.kcU(),t.TgZ(41,"button",16),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw(2).update(c)}),t._uU(42,"\n                "),t.O4$(),t._UZ(43,"svg",17),t._uU(44,"\n              "),t.qZA(),t._uU(45,"\n              "),t.kcU(),t.TgZ(46,"button",18),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw(2).remove(c)}),t._uU(47,"\n                "),t.O4$(),t._UZ(48,"svg",19),t._uU(49,"\n              "),t.qZA(),t._uU(50,"\n            "),t.qZA(),t._uU(51,"\n          "),t.qZA()}if(2&s){const o=Z.$implicit,r=t.oxw(2);t.xp6(3),t.Oqu(o.belongs_to),t.xp6(3),t.Oqu(r.getStationTypeText(o.station_type)),t.xp6(3),t.Oqu(o.geoLocationMethod),t.xp6(3),t.Oqu(o.geoLocationAccuracy),t.xp6(3),t.Oqu(o.drainage_basin),t.xp6(3),t.Oqu(t.lcZ(19,11,o.opening_datetime)),t.xp6(4),t.Oqu(t.lcZ(23,13,o.closing_datetime)),t.xp6(4),t.AsE("",o.latitude,", ",o.longitude,""),t.xp6(3),t.Oqu(o.elevation),t.xp6(3),t.Oqu(o.authority)}}function x(s,Z){1&s&&(t.TgZ(0,"c-alert",20),t.TgZ(1,"strong"),t._uU(2,"Info"),t.qZA(),t._uU(3," No instruments available to show. "),t.qZA())}function D(s,Z){if(1&s){const o=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"c-card-body"),t._uU(1,"\n        "),t.TgZ(2,"app-paginator",8),t.NdJ("onPage",function(_){return t.CHM(o),t.oxw().onPage(_)}),t.qZA(),t._uU(3,"\n        "),t.TgZ(4,"table",9),t._uU(5,"\n          "),t.TgZ(6,"thead"),t._uU(7,"\n          "),t.TgZ(8,"tr"),t._uU(9,"\n            "),t.TgZ(10,"th",10),t._uU(11,"Station"),t.qZA(),t._uU(12,"\n            "),t.TgZ(13,"th",10),t._uU(14,"Station Type"),t.qZA(),t._uU(15,"\n            "),t.TgZ(16,"th",10),t._uU(17,"Method"),t.qZA(),t._uU(18,"\n            "),t.TgZ(19,"th",10),t._uU(20,"Accuracy"),t.qZA(),t._uU(21,"\n            "),t.TgZ(22,"th",10),t._uU(23,"Drain Basin"),t.qZA(),t._uU(24,"\n            "),t.TgZ(25,"th",10),t._uU(26,"Opening"),t.qZA(),t._uU(27,"\n            "),t.TgZ(28,"th",10),t._uU(29,"Closing"),t.qZA(),t._uU(30,"\n            "),t.TgZ(31,"th",10),t._uU(32,"Location"),t.qZA(),t._uU(33,"\n            "),t.TgZ(34,"th",10),t._uU(35,"Elevation"),t.qZA(),t._uU(36,"\n            "),t.TgZ(37,"th",10),t._uU(38,"Authority"),t.qZA(),t._uU(39,"\n            "),t._UZ(40,"th"),t._uU(41,"\n          "),t.qZA(),t._uU(42,"\n          "),t.qZA(),t._uU(43,"\n          "),t.TgZ(44,"tbody"),t._uU(45,"\n          "),t.YNc(46,$,52,15,"tr",11),t._uU(47,"\n          "),t.qZA(),t._uU(48,"\n        "),t.qZA(),t._uU(49,"\n        "),t.YNc(50,x,4,0,"c-alert",12),t._uU(51,"\n      "),t.qZA()}if(2&s){const o=Z.$implicit,r=t.oxw();t.xp6(2),t.Q6J("limit",o.limit)("current",o.page)("pages",r.createPages(o.pages)),t.xp6(44),t.Q6J("ngForOf",o.locationHistories),t.xp6(4),t.Q6J("ngIf",!o.locationHistories.length)}}const I=[{path:"",component:(()=>{class s{constructor(o,r){this.modalService=o,this.locHistService=r,this.histories$=(0,M.of)({locationHistories:[],limit:1,page:1,pages:1}),this.submitted=!1,this.loading=!1,this.error=!1,this.isUpdate=!1}ngOnInit(){this.histories$=this.locHistService.histories}onPage(o){console.log(o),this.locHistService.updateState(o)}createPages(o){return[...Array(o).keys()].map(r=>r+1)}viewLocHist(o){}getStationTypeText(o){return(0,v.bf)(o)}add(){const r=this.modalService.show(n.d,{initialState:{station:this.id},class:"modal-lg",backdrop:"static",keyboard:!1});r.content.onClose.subscribe(_=>{_&&this.locHistService.addNew(_).pipe((0,d.h)(c=>c.result.length)).subscribe(()=>{r.hide()})})}update(o){const _=this.modalService.show(n.d,{initialState:{station:o.belongs_to,historyItem:o},class:"modal-lg",backdrop:"static",keyboard:!1});_.content.onClose.subscribe(c=>{console.log(c),c&&this.locHistService.update(+o.belongs_to,new Date(o.opening_datetime).toISOString(),c).pipe((0,d.h)(U=>U.result.length)).subscribe(()=>{_.hide()})})}remove(o){this.modalService.show(i.S,{initialState:{title:"Location History Removal",message:"Operation cannot be undone. Are you sure you want to remove the location history and its associated data?",confirm:"Go Ahead",cancel:"Cancel"}}).content.onClose.subscribe(c=>{c&&this.locHistService.remove(+o.belongs_to,new Date(o.opening_datetime).toISOString()).subscribe()})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(l.tT),t.Y36(y))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-location-histories"]],decls:31,vars:3,consts:[["xs","12","lg","12","xl","12"],[1,"mb-4"],["xs","6"],[1,"col-6"],["xs","6",1,"text-end"],[1,"btn","btn-sm","cs-btn-sm","btn-outline",3,"click"],["cIcon","","name","cilPlus"],[4,"ngIf"],[3,"limit","current","pages","onPage"],["cTable",""],["scope","col"],[4,"ngFor","ngForOf"],["color","primary",4,"ngIf"],["scope","row"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","View Location History",3,"click"],["cIcon","","name","cilArrowThickFromLeft","size","sm"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","Update Station",3,"click"],["cIcon","","name","cilPencil","size","sm"],["cButton","","size","sm","color","light","shape","rounded-pill","cTooltip","Remove Station",3,"click"],["cIcon","","name","cilTrash","size","sm",1,"text-danger"],["color","primary"]],template:function(o,r){1&o&&(t.TgZ(0,"c-row"),t._uU(1,"\n  "),t.TgZ(2,"c-col",0),t._uU(3,"\n    "),t.TgZ(4,"c-card",1),t._uU(5,"\n      "),t.TgZ(6,"c-card-header"),t._uU(7,"\n        "),t.TgZ(8,"c-row"),t._uU(9,"\n          "),t.TgZ(10,"c-col",2),t._uU(11,"\n            "),t.TgZ(12,"strong",3),t._uU(13,"Location History List"),t.qZA(),t._uU(14,"\n          "),t.qZA(),t._uU(15,"\n          "),t.TgZ(16,"c-col",4),t._uU(17,"\n            "),t.TgZ(18,"a",5),t.NdJ("click",function(){return r.add()}),t._uU(19," "),t.O4$(),t._UZ(20,"svg",6),t._uU(21," Add New "),t.qZA(),t._uU(22,"\n          "),t.qZA(),t._uU(23,"\n        "),t.qZA(),t._uU(24,"\n      "),t.qZA(),t._uU(25,"\n      "),t.YNc(26,D,52,5,"c-card-body",7),t.ALo(27,"async"),t._uU(28,"\n    "),t.qZA(),t._uU(29,"\n  "),t.qZA(),t._uU(30,"\n"),t.qZA()),2&o&&(t.xp6(26),t.Q6J("ngIf",t.lcZ(27,1,r.histories$)))},directives:[u.iok,u.Yp0,u.AkF,u.nkx,P.ar,g.O5,u.yue,f.J,u.auY,g.sg,u.Hq3,u.i9q,u.wxo],pipes:[g.Ov,g.uU],styles:[""]}),s})(),data:{title:"Location History List"}},{path:"new",component:m,canDeactivate:[E.C],data:{title:"New Location History",update:!1}},{path:":id/update",component:m,data:{title:"Update Location History",update:!0}},{path:":id",component:A.e,data:{title:"Location Hisotry Details"}}];let q=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[T.Bz.forChild(I)],T.Bz]}),s})(),B=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[g.ez,e.m,q]]}),s})()},7160:(b,S,a)=>{a.d(S,{v:()=>M});var e=a(1135),T=a(262),E=a(8505),A=a(5e3),t=a(4691);const m="climsoft/v1";let M=(()=>{class d{constructor(n){this.http=n,this.stations$=new e.X({stations:[],limit:10,page:1,pages:1}),this.init=!1;const i=this.stations$.getValue();this.getStations(i.page,i.limit)}get stations(){return this.stations$.asObservable()}adapt(n){const i={station_name:"Station Name",wmoid:"WMO ID",icaoid:"ICAO ID",latitude:"Latitude",longitude:"Longitude",elevation:"Elevation",qualifier:"Qualifier",geolocation_method:"Geo Location Method",geolocation_accuracy:"Geo Location Accurary",opening_datetime:"Opening",closing_datetime:"Closing",country:"Country",authority:"Authority",admin_region:"Admin Region",drainage_basin:"Drainage",waca_selection:"WACA Selection",cpt_selection:"SCP SELECTION",station_operational:"Station Operational"};let l=[];return Object.keys(n).filter(p=>-1===["station_id","station_name"].indexOf(p)).forEach(p=>{const h={};switch(h.key=i[p],h.value=n[p]||"No Value",p){case"opening_datetime":case"closing_datetime":case"closing_datetime":h.type="date";break;default:h.type=null}l.push(h)}),l}updateState(n){if(n.page){const i=this.stations$.getValue().limit;this.getStations(n.page,i)}n.limit&&this.getStations(1,n.limit)}getStations(n,i){console.log(n,i),this.http.GET(`${m}/stations?limit=${i}&offset=${(n-1)*i}`).subscribe(p=>{console.log(p),this.stations$.next({stations:p.result,limit:i,page:p.page,pages:p.pages}),this.init=!0})}getStation(n){return this.http.GET(`${m}/stations/${n}`)}searchStation(n){return this.http.GET(`${m}/stations/search?query=${n}`)}addStation(n){return this.http.POST(`${m}/stations`,Object.assign(Object.assign({},n),{station_id:"2343403"})).pipe((0,T.K)(l=>{throw new Error(l.error.message)}),(0,E.b)(l=>{console.log(l);const p=this.stations$.getValue(),{page:h,limit:C}=p;this.getStations(h,C)}))}updateStation(n,i){return this.http.PUT(`${m}/stations/${n}`,i).pipe((0,T.K)(l=>{throw new Error(l.error.message)}),(0,E.b)(l=>{const p=this.stations$.getValue(),{page:h,limit:C}=p;this.getStations(h,C)}))}removeStation(n){this.http.DELETE(`${m}/stations/${n}`).pipe((0,T.K)(i=>{throw new Error(i.error.message)})).subscribe(i=>{const l=this.stations$.getValue(),{page:p,limit:h}=l;this.getStations(p,h)})}getStationElements(n){return this.http.GET(`${m}/stations/${n}/station-elements`)}addStationElement(n){return this.http.POST(`${m}/station-elements`,n)}updateStationElement(n,i){return this.http.PUT(`${m}/station-elements/${n.recorded_from}/${n.described_by}/${n.recoded_with}/${n.begin_date}`,i)}getStationLocHistory(n){return this.http.GET(`${m}/station-location-histories?belongs_to=${n}`)}addStationLocHistory(n){return this.http.POST(`${m}/station-location-histories`,n)}updateStationLocHistory(n,i,l){return this.http.PUT(`${m}/station-location-histories/${n}/${i}`,l)}getStationQualifiers(n){return this.http.GET(`${m}/station-qualifiers?belongs_to=${n}`)}}return d.\u0275fac=function(n){return new(n||d)(A.LFG(t.O))},d.\u0275prov=A.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},5683:(b,S,a)=>{a.d(S,{J:()=>M});var e=a(5e3),T=a(963),E=a(1728),A=a(9808);function t(d,v){if(1&d){const n=e.EpF();e.O4$(),e.kcU(),e.TgZ(0,"li",12),e.TgZ(1,"a",3),e.NdJ("click",function(){const p=e.CHM(n).$implicit;return e.oxw().pageChange(p)}),e._uU(2),e.qZA(),e.qZA()}if(2&d){const n=v.$implicit,i=e.oxw();e.Q6J("active",i.current===n),e.xp6(2),e.Oqu(n)}}function m(d,v){if(1&d){const n=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){const p=e.CHM(n).$implicit;return e.oxw().onLimit(p)}),e._uU(1),e.qZA()}if(2&d){const n=v.$implicit,i=e.oxw();e.Q6J("active",n===i.limit),e.xp6(1),e.hij(" ",n," ")}}let M=(()=>{class d{constructor(){this.limits=[10,20,30,50],this.limit=10,this.current=1,this.pages=[1],this.onPage=new e.vpe}ngOnInit(){}pageChange(n){"..."!==n&&(this.current=n,this.ngOnInit(),this.onPage.emit({page:n}))}onLimit(n){this.limit=n,this.onPage.emit({limit:n})}getPages(){if(this.pages.length<=10)return this.pages;var O,n=this.current,i=this.pages.length,p=n-2,h=n+2+1,C=[],L=[];for(let y=1;y<=i;y++)(1==y||y==i||y>=p&&y<h)&&C.push(y);for(let y of C)O&&(y-O==2?L.push(O+1):y-O!=1&&L.push("...")),L.push(y),O=y;return L}}return d.\u0275fac=function(n){return new(n||d)},d.\u0275cmp=e.Xpm({type:d,selectors:[["app-paginator"]],inputs:{limits:"limits",limit:"limit",current:"current",pages:"pages"},outputs:{onPage:"onPage"},decls:19,vars:6,consts:[["xs","12","md","8","xl","5"],["aria-label","navigation","size","sm",1,"justify-content-center"],["cPageItem","",3,"disabled"],["cPageLink","",3,"click"],["cIcon","","name","cilMediaStepBackward"],["cIcon","","name","cilMediaSkipBackward"],["cPageItem","",3,"active",4,"ngFor","ngForOf"],["cIcon","","name","cilMediaSkipForward"],["cIcon","","name","cilMediaStepForward"],["xs","12","md","4","xl","7",1,"text-end"],["aria-label","Basic outlined example","role","group","size","sm"],["cButton","","color","primary","variant","outline",3,"active","click",4,"ngFor","ngForOf"],["cPageItem","",3,"active"],["cButton","","color","primary","variant","outline",3,"active","click"]],template:function(n,i){1&n&&(e.TgZ(0,"c-row"),e.TgZ(1,"c-col",0),e.TgZ(2,"c-pagination",1),e.TgZ(3,"li",2),e.TgZ(4,"a",3),e.NdJ("click",function(){return i.pageChange(1)}),e.O4$(),e._UZ(5,"svg",4),e.qZA(),e.qZA(),e.kcU(),e.TgZ(6,"li",2),e.TgZ(7,"a",3),e.NdJ("click",function(){return i.pageChange(i.current-1)}),e.O4$(),e._UZ(8,"svg",5),e.qZA(),e.qZA(),e.YNc(9,t,3,2,"li",6),e.kcU(),e.TgZ(10,"li",2),e.TgZ(11,"a",3),e.NdJ("click",function(){return i.pageChange(i.current+1)}),e.O4$(),e._UZ(12,"svg",7),e.qZA(),e.qZA(),e.kcU(),e.TgZ(13,"li",2),e.TgZ(14,"a",3),e.NdJ("click",function(){return i.pageChange(i.pages.length)}),e.O4$(),e._UZ(15,"svg",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.kcU(),e.TgZ(16,"c-col",9),e.TgZ(17,"c-button-group",10),e.YNc(18,m,2,2,"button",11),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(3),e.Q6J("disabled",1===i.current),e.xp6(3),e.Q6J("disabled",1===i.current),e.xp6(3),e.Q6J("ngForOf",i.getPages()),e.xp6(1),e.Q6J("disabled",i.current===i.pages.length),e.xp6(3),e.Q6J("disabled",i.current===i.pages.length),e.xp6(5),e.Q6J("ngForOf",i.limits))},directives:[T.iok,T.Yp0,T.QtL,T.Qmh,T.YHm,E.ar,A.sg,T.KbJ,T.Hq3],styles:[".page-item[_ngcontent-%COMP%]{cursor:pointer}.page-item.disabled[_ngcontent-%COMP%]{cursor:not-allowed}"]}),d})()},1773:(b,S,a)=>{a.d(S,{n:()=>y});var e=a(5e3),T=a(8306),E=a(8372),A=a(8505),t=a(3900),m=a(4004),M=a(5032),d=a(262),v=a(9646),n=a(7160),i=a(3075),l=a(8184),p=a(9808);function h(u,P){1&u&&(e.TgZ(0,"div",4),e._UZ(1,"img",5),e._uU(2," searching..."),e.qZA())}function C(u,P){if(1&u&&(e.TgZ(0,"div",6),e.TgZ(1,"div",7),e._uU(2),e.qZA(),e.qZA()),2&u){const g=e.oxw();e.xp6(2),e.Oqu(g.errorMessage)}}function L(u,P){if(1&u&&(e.TgZ(0,"div",8),e._uU(1),e.qZA(),e.TgZ(2,"div",9),e._uU(3),e.qZA()),2&u){const g=P.item;e.xp6(1),e.AsE("",g.station_id," - ",g.station_name,""),e.xp6(2),e.hij(" ",g.element_name," ")}}const O=function(u){return{loading:u}};let y=(()=>{class u{constructor(g){this.stationService=g,this.placeholder="Station",this.onSelection=new e.vpe,this.typeaheadLoading=!1,this.typeaheadNoResults=!1,this.loading=!1,this.search="",this.errorMessage=""}ngOnInit(){this.stations$=new T.y(g=>{g.next(this.search)}).pipe((0,E.b)(400),(0,A.b)(()=>{this.errorMessage="",this.loading=!0}),(0,t.w)(g=>g?this.stationService.searchStation(g).pipe((0,A.b)(()=>{this.loading=!1}),(0,m.U)(f=>f.result||[]),(0,A.b)(()=>M.Z,f=>{this.loading=!1,this.errorMessage=f&&f.message||"station search failed"}),(0,d.K)(f=>(this.errorMessage="station search failed",(0,v.of)(f)))):(0,v.of)([])))}changeTypeaheadLoading(g){this.typeaheadLoading=g}onSelect(g){this.selected=g.item,this.onSelection.emit(g.item)}}return u.\u0275fac=function(g){return new(g||u)(e.Y36(n.v))},u.\u0275cmp=e.Xpm({type:u,selectors:[["app-station-selection"]],inputs:{placeholder:"placeholder"},outputs:{onSelection:"onSelection"},decls:5,vars:11,consts:[["typeaheadOptionField","station_name","autocomplete","off","autocorrect","off",1,"form-control",3,"ngModel","typeahead","typeaheadAsync","typeaheadOptionsLimit","typeaheadItemTemplate","ngClass","placeholder","ngModelChange","typeaheadLoading","typeaheadOnSelect"],["class","typeahead-loading",4,"ngIf"],["ngClass","typeahead-error","class","typeahead-loading",4,"ngIf"],["itemTemplate",""],[1,"typeahead-loading"],["src","./assets/img/gif/spinner.gif","alt",""],["ngClass","typeahead-error",1,"typeahead-loading"],[1,"typeahead-error-inner"],[1,"item-heading"],[1,"item-title"]],template:function(g,f){if(1&g&&(e.TgZ(0,"input",0),e.NdJ("ngModelChange",function(x){return f.search=x})("typeaheadLoading",function(x){return f.changeTypeaheadLoading(x)})("typeaheadOnSelect",function(x){return f.onSelect(x)}),e.qZA(),e.YNc(1,h,3,0,"div",1),e.YNc(2,C,3,1,"div",2),e.YNc(3,L,4,3,"ng-template",null,3,e.W1O)),2&g){const $=e.MAs(4);e.Q6J("ngModel",f.search)("typeahead",f.stations$)("typeaheadAsync",!0)("typeaheadOptionsLimit",7)("typeaheadItemTemplate",$)("ngClass",e.VKq(9,O,f.typeaheadLoading))("placeholder",f.placeholder),e.xp6(1),e.Q6J("ngIf",f.loading),e.xp6(1),e.Q6J("ngIf",!f.loading&&f.errorMessage)}},directives:[i.Fj,i.JJ,i.On,l.Bp,p.mk,p.O5],styles:[".typeahead-loading[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.9rem}.typeahead-loading[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:18px;margin-right:.2rem}typeahead-container[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%]{background-color:#277bc9!important}.item-heading[_ngcontent-%COMP%]{font-size:.7rem}.item-title[_ngcontent-%COMP%]{font-size:.9rem}.typeahead-error[_ngcontent-%COMP%]{margin-top:.2rem;padding:0 .3rem}.typeahead-error-inner[_ngcontent-%COMP%]{padding:.1rem .3rem;font-size:.9rem;background-color:#ffd9d9;border:1px solid #c7a9a9;border-radius:.2rem;color:#d11a1a}"]}),u})()}}]);